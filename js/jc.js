var token=0;var filterArray=new Array();$(function(){$("#calculator_menu a.tab_item").click(function(){if(!$(this).hasClass("current")){$("#"+$("a.tab_item.current").attr("id")+"Show").empty();$(this).addClass("current");$(this).siblings(".tab_item").removeClass("current");if($(this).attr("id")=="sfpSelect"){$(".sfpShow").show();$(".sfpShow").siblings(".tab_list").hide();searchBet(0,"1,2")}else{if($(this).attr("id")=="scoreSelect"){$(".scoreShow").show();$(".scoreShow").siblings(".tab_list").hide();searchBet(0,"4")}else{if($(this).attr("id")=="totalballSelect"){$(".totalballShow").show();$(".totalballShow").siblings(".tab_list").hide();searchBet(0,"3")}else{if($(this).attr("id")=="halfSelect"){$(".halfShow").show();$(".halfShow").siblings(".tab_list").hide();searchBet(0,"5")}else{if($(this).attr("id")=="sfSelect"){$(".sfShow").show();$(".sfShow").siblings(".tab_list").hide();searchBet(1,"11")}else{if($(this).attr("id")=="rsfSelect"){$(".rsfShow").show();$(".rsfShow").siblings(".tab_list").hide();searchBet(1,"12")}else{if($(this).attr("id")=="sfcSelect"){$(".sfcShow").show();$(".sfcShow").siblings(".tab_list").hide();searchBet(1,"13")}else{if($(this).attr("id")=="sizeSelect"){$(".sizeShow").show();$(".sizeShow").siblings(".tab_list").hide();searchBet(1,"14")}}}}}}}}initPassWay()}});if($(".ftballTab").hasClass("current")){searchBet(0,"1,2")}else{if($(".bskballTab").hasClass("current")){searchBet(1,"11")}}initPassWay();$("#passSelection").click(function(){if($("#allSelect").is(":hidden")){$(this).siblings("#allSelect").show()}else{$(this).siblings("#allSelect").hide()}});$("#showDetail").click(function(a){a.stopPropagation();showDetail()})});function equalArray(b,a){if(b.length!=a.length){return false}for(var c=0;c<b.length;c++){if(b[c]!=a[c]){return false}}return true}function needLogin(){var b=getCookie(cookieKey);if(!b){var a="/htmlwx/login.html?stat=bet";var c=0;if($(".bskballTab").hasClass("current")){a="/htmlwx/login.html?stat=betB"}location.href=getPath()+a;return true}return false}function checkClick(){$(".oddsItems").click(function(){if($(this).hasClass("checked")){$(this).removeClass("checked");selectPassWay($(this));calculate()}else{var c=$(this).siblings(":eq(0)");var a=c.html();var d=$(this).closest("tr").siblings("tr").find("td.checked");if(d.length){showTipsPop("一场比赛只能选择一种玩法进行串关计算","2500")}else{var b=getMaxMatchCount();if(b>=8&&$(this).siblings(".checked").length<=0){showTipsPop("最多只能选8场比赛","2000");return}$(this).addClass("checked");selectPassWay($(this));calculate()}}resetPassWayTitle()});$(".data_block_header").click(function(){if($(this).hasClass("up")){$(this).removeClass("up").addClass("down");$(this).next("div").hide();var a=$(this).closest("tr").attr("trIndex");$(".mainTbl table[lindex="+a+"]").hide()}else{if($(this).hasClass("down")){$(this).removeClass("down").addClass("up");$(this).next("div").show();var a=$(this).closest("tr").attr("trIndex");$(".mainTbl table[lindex="+a+"]").show()}}})}function resetPassWayTitle(){var a=new Array();$("#allSelect .checked").each(function(){a.push($(this).children("span").html())});if(a.length==0){$("#passSelection").html("过关选择")}else{$("#passSelection").html(a.join(", "));if($("#passSelection").html().length>14){$("#passSelection").css({"line-height":"1.4em","font-size":"10px"})}else{$("#passSelection").css({"line-height":"30px","font-size":"11px"})}}}function getMaxMatchCount(){var a=0;$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){if($(this).find(".checked").length){a++}});return a}function selectPassWay(g){var b=g.siblings(":eq(0)");var h=b.attr("title");var i=b.html();$("#allSelect").hide();var d=getMaxMatchCount();if(d==0){$("#allSelect .showModeEvery").each(function(k){$(this).removeClass("checked").addClass("gray")})}else{var e=$("#calculator_menu a.tab_item.current");var c=e.attr("title");c=Number(c);if(d>c){showTipsPop("超过"+c+"场比赛,只能按单关计算","2000");d=1}$("#allSelect .showModeEvery").each(function(k){if(k==0&&i=="false"){return}if(k>0&&h=="false"){return}if(k==(d-1)){$(this).removeClass("gray").addClass("checked")}else{if(k<d-1){$(this).removeClass("gray").removeClass("checked")}else{$(this).removeClass("checked").addClass("gray")}}});if(d>0){var j=false;var a=true;var f=false;$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){var k=$(this).find(".checked");if(k.length>0){var l=k.siblings(":eq(0)");if(l.length>0){if("true"==l.html()){j=true}else{a=false}}}});if(a){$("#allSelect .showModeEvery[title=1]").removeClass("gray");if(d==1){$("#allSelect .showModeEvery[title=1]").addClass("checked")}}else{if((d>1&&j)||!j){$("#allSelect .showModeEvery[title=1]").removeClass("checked").addClass("gray")}}}}}var bonusDetail;function calculate(){var c=0;var b=0;bonusDetail=new Array();var d=new Array();$("#allSelect .checked").each(function(){var l=Number($(this).attr("title"));if(l==1){bonusDetail[1]=new Array();var f=0;$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){var r=0;var q=0;var m=Number.MAX_VALUE;$(this).find(".oddsItems.checked").each(function(){if($(this).siblings(":eq(0)").html()=="true"){c++;var t=Number($(this).children("label").html());if(r<t){r=t}if(q<t){q=t}if(m>t){m=t}}});b+=r;var s={count:1,m:new Array(),o:{min:new Array(),max:new Array()},min:m,max:q};s.m.push($(this).attr("id"));s.o.max.push(q);s.o.min.push(m);bonusDetail[1].push(s)})}else{if(d.length==0){$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){if($(this).find(".oddsItems.checked").length){d.push($(this).attr("id"))}})}var p=group(d,l);for(var n in p){var k=1;var f=1;for(var j in p[n]){var h=p[n][j];var g=0;var i=0;$("#"+h+" .oddsItems.checked").each(function(){var m=Number($(this).children("label").html());if(i<m){i=m}g++});k*=i;f*=g}var o=caculateDetail(p[n],l);c+=f;b+=k}}});var a=Number($("#times").html());$("#consume").html(c*2*a);var e=b*2*a;if(e>0){e=e.toFixed(2)}$("#bonus").html(e)}function caculateDetail(e,b){var l={totalCount:0,totalMaxReward:0};var c=e;if(e.length>b){c=group(e,b)}else{c=new Array();c.push(e)}if(!bonusDetail[b]){bonusDetail[b]=new Array()}var s=0;var h=0;var k=1;var f=1;for(var n in c){var j=c[n];var t=true;for(var q in bonusDetail[b]){if(equalArray(j,bonusDetail[b][q].m)){bonusDetail[b][q].count+=1;t=false}}var o;if(t){o={count:1,m:j,o:{min:new Array(),max:new Array()},min:0,max:0}}var f=1;var k=1;var r=1;for(var d in j){var p=c[n][d];var g=0;var a=0;var u=Number.MAX_VALUE;$("#"+p+" .oddsItems.checked").each(function(){var i=Number($(this).children("label").html());if(a<i){a=i}if(u>i){u=i}g++});f*=u;k*=a;r*=g;if(t){o.o.min.push(u);o.o.max.push(a)}}if(t){o.min=f;o.max=k;bonusDetail[b].push(o)}s+=r;h+=k}l.totalCount=s;l.totalMaxReward=h;return l}function clearAll(){$(".oddsItems.checked").removeClass("checked");$("#multiple").html("1");$("#times").html("1");$("#consume").html("0");$("#bonus").html("0");$("#passSelection").html("过关选择");$("#allSelect .showModeEvery").each(function(){$(this).removeClass("checked").addClass("gray")})}function group(c,g,a){var a=a?a:[];var d=c.length;var h=d-g;var b=c.slice(0);var f=b.shift();f=f.constructor===Array?f:[f];(function e(m,i){var o;var l=i.slice(0);var n=g-m.length;if(n==0){a.push(m);return}if(n==1){for(var k in i){o=m.slice(0);o.push(i[k]);a.push(o)}}if(n>1){o=m.slice(0);o.push(l.shift());e(o,l);if(m.length+l.length>=g){e(m,l)}}})(f,b);if(b.length>=g){return group(b,g,a)}else{return a}}function searchBet(d,c){if(!d&&!c){return}var a="/web/bet/match.do";var b=getCookie(cookieKey);if(!b){a="/web/bet/match/preview.do"}showLoading();$.ajax({type:"post",url:getPath()+a,data:"matchType="+d+"&oddsType="+c+"&stat="+getLoginStat(d),dataType:"json",contentType:"application/x-www-form-urlencoded; charset=utf-8",success:function(e){hideLoading();if(e.s==200){token=e.t;clearAll()}if(d==0){if(c=="1,2"){showSFP(e);checkClick()}else{if(c=="3"){showTotalGoal(e);checkClick()}else{if(c=="4"){showScore(e);checkClick()}else{if(c=="5"){showHalfAll(e);checkClick()}}}}}else{if(c=="11"){showSF(e);checkClick()}else{if(c=="12"){showRQSF(e);checkClick()}else{if(c=="13"){showSFC(e);checkClick()}else{if(c=="14"){showSize(e);checkClick()}}}}}initFilter()},error:function(e,g,f){hideLoading();console.log(e.responseText);console.log(e.status);console.log(e.readyState);console.log(e.statusText);console.log(g);console.log(f)}})}function initPassWay(){var a=$("#calculator_menu a.tab_item.current");var e=a.attr("title");e=Number(e);var d="";var c="";for(var b=1;b<=e;++b){c=numMapCnumpass(b);d+="<div class='showModeEvery gray' title='"+b+"'><span class='showModeText'>"+c+"</span></div>"}$("#showModes").html(d);$("#allSelect .showModeEvery").click(function(){if($(this).hasClass("checked")){$(this).removeClass("checked");resetPassWayTitle();calculate()}else{if(!$(this).hasClass("checked")&&!$(this).hasClass("gray")){var f=0;$("#allSelect .checked").each(function(){f++});if(f>=5){showTipsPop("您好，最多只能选择5个过关方式!","2500");return}$(this).addClass("checked");resetPassWayTitle();calculate()}}})}function showHalfAll(f){if(f.s==200&&f.r){var c="<tbody>";for(var e in f.r){var g=f.r[e];c+="<tr class='thead' trIndex='tr"+e+"'><td colspan='5'><div class='data_block_header up'><span>"+g.date+"</span><span>"+g.week+"</span><span>"+g.size+"场比赛</span></div></td></tr>";c+="<tr><td><table lindex='tr"+e+"'>";for(var b in g.list){var a=g.list[b];var d=saveFilterItem(a.league,"L"+e+"_"+b);c+="<tr class='listTr' name='"+d+"'>";if(a.bet[0].sg){c+="<td colspan='5' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{c+="<td colspan='5'>"}c+="<div class='item_head'>";c+="<div class='item_head_right tz_block'>";c+="<span><img src='"+a.hlogo+"' /><br /><b>"+a.home+"</b>(主)</span>";c+="<div class='item_body_first'>";c+="<p>"+a.league+"</p>";c+="<p>"+a.alias+" "+a.stop+"截止</p>";c+="<p>VS</p>";if(a.follow){c+="<div id='"+a.mid+"halfall' class='collect' onclick='followMatch(0,"+a.mid+", this)'>取消关注</div>"}else{c+="<div id='"+a.mid+"halfall' class='nocollect' onclick='followMatch(0,"+a.mid+", this)'>关注</div>"}c+="</div>";c+="<span><img src='"+a.glogo+"' /><br /><b>"+a.guest+"</b>(客)</span>";c+="</div>";c+="<div class='clearf'></div>";c+="</div>";c+="<td></tr>";c+="<tr  name='"+d+"' class='crsOddsTr'><td colspan='5'class='td_padding ttgOdds'style='width:480px;'><table id="+a.mid+" class='crsOdds'dataindex='0_0'width='100%'><tbody><tr><td title="+a.bet[0].type+">";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='halfItem oddsItems radius3-l' title='33'><div>胜胜</div><label>"+a.bet[0].odds.r33+"</label></span>";c+="<span class='halfItem oddsItems' title='10'><div>胜平</div><label>"+a.bet[0].odds.r31+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='30'><div>胜负</div><label>"+a.bet[0].odds.r30+"</label></span>";c+="<span class='halfItem oddsItems radius3-l' title='13'><div>平胜</div><label>"+a.bet[0].odds.r13+"</label></span>";c+="<span class='halfItem oddsItems' title='11'><div>平平</div><label>"+a.bet[0].odds.r11+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='10'><div>平负</div><label>"+a.bet[0].odds.r10+"</label></span>";c+="<span class='halfItem oddsItems radius3-l' title='03'><div>负胜</div><label>"+a.bet[0].odds.r03+"</label></span>";c+="<span class='halfItem oddsItems' title='01'><div>负平</div><label>"+a.bet[0].odds.r01+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='00'><div>负负</div><label>"+a.bet[0].odds.r00+"</label></span>";c+="</td></tr></tbody></table></td></tr>"}c+="</table></td></tr>"}$("#halfSelectShow").append(c+"</tbody>")}else{$("#halfSelectShow").html(getResult(f))}}function showTotalGoal(f){if(f.s==200&&f.r){var c="<tbody>";for(var e in f.r){var g=f.r[e];c+="<tr class='thead' trIndex='tr"+e+"'><td colspan='5'><div class='data_block_header up'><span>"+g.date+"</span><span>"+g.week+"</span><span>"+g.size+"场比赛</span></div></td></tr>";c+="<tr><td><table lindex='tr"+e+"'>";for(var b in g.list){var a=g.list[b];var d=saveFilterItem(a.league,"L"+e+"_"+b);c+="<tr class='listTr' name='"+d+"'>";if(a.bet[0].sg){c+="<td colspan='5' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{c+="<td colspan='5'>"}c+="<div class='item_head'>";c+="<div class='item_head_right tz_block'>";c+="<span><img src='"+a.hlogo+"' /><br /><b>"+a.home+"</b>(主)</span>";c+="<div class='item_body_first'>";c+="<p>"+a.league+"</p>";c+="<p>"+a.alias+" "+a.stop+"截止</p>";c+="<p>VS</p>";if(a.follow){c+="<div id='"+a.mid+"TotalGoal' class='collect' onclick='followMatch(0,"+a.mid+", this)'>取消关注</div>"}else{c+="<div id='"+a.mid+"TotalGoal' class='nocollect' onclick='followMatch(0,"+a.mid+", this)'>关注</div>"}c+="</div>";c+="<span><img src='"+a.glogo+"' /><br /><b>"+a.guest+"</b>(客)</span>";c+="</div>";c+="<div class='clearf'></div>";c+="</div>";c+="<td></tr>";c+="<tr class='crsOddsTr'  name='"+d+"' style='display: table-row;'><td colspan='5' class='td_padding ttgOdds'><table id="+a.mid+" class='crsOdds' dataindex='0_0' width='100%'><tbody><tr><td title="+a.bet[0].type+">";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='0'><div>0</div><label>"+a.bet[0].odds.s0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='1'><div>1</div><label>"+a.bet[0].odds.s1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2'><div>2</div><label>"+a.bet[0].odds.s2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='3'><div>3</div><label>"+a.bet[0].odds.s3+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='4'><div>4</div><label>"+a.bet[0].odds.s4+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='5'><div>5</div><label>"+a.bet[0].odds.s5+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='6'><div>6</div><label>"+a.bet[0].odds.s6+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='7'><div>7+</div><label>"+a.bet[0].odds.s7+"</label></span>";c+="</td></tr></tbody></table></td></tr>"}c+="</table></td></tr>"}$("#totalballSelectShow").append(c+"</tbody>")}else{$("#totalballSelectShow").html(getResult(f))}}function showScore(f){if(f.s==200&&f.r){var c="<tbody>";for(var e in f.r){var g=f.r[e];c+="<tr class='thead' trIndex='tr"+e+"'><td colspan='5'><div class='data_block_header up'><span>"+g.date+"</span><span>"+g.week+"</span><span>"+g.size+"场比赛</span></div></td></tr>";c+="<tr><td><table lindex='tr"+e+"'>";for(var b in g.list){var a=g.list[b];var d=saveFilterItem(a.league,"L"+e+"_"+b);c+="<tr class='listTr' name='"+d+"'>";if(a.bet[0].sg){c+="<td colspan='5' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{c+="<td colspan='5'>"}c+="<div class='item_head'>";c+="<div class='item_head_right tz_block'>";c+="<span><img src='"+a.hlogo+"' /><br /><b>"+a.home+"</b>(主)</span>";c+="<div class='item_body_first'>";c+="<p>"+a.league+"</p>";c+="<p>"+a.alias+" "+a.stop+"截止</p>";c+="<p>VS</p>";if(a.follow){c+="<div id='"+a.mid+"score' class='collect' onclick='followMatch(0,"+a.mid+", this)'>取消关注</div>"}else{c+="<div id='"+a.mid+"score' class='nocollect' onclick='followMatch(0,"+a.mid+", this)'>关注</div>"}c+="</div>";c+="<span><img src='"+a.glogo+"' /><br /><b>"+a.guest+"</b>(客)</span>";c+="</div>";c+="<div class='clearf'></div>";c+="</div>";c+="<td></tr>";c+="<tr class='crsOddsTr' name='"+d+"' style='display: table-row;'><td colspan='5' class='td_padding'><table id="+a.mid+" class='crsOdds' dataindex='0_0' width='100%' cellspacing='0' cellpadding='0'><tr><td title="+a.bet[0].type+" style='text-align:left;'>";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='1_0'><div>1:0</div><label>"+a.bet[0].odds.s1_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2_0'><div>2:0</div><label>"+a.bet[0].odds.s2_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2_1'><div>2:1</div><label>"+a.bet[0].odds.s2_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='3_0'><div>3:0</div><label>"+a.bet[0].odds.s3_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='3_1'><div>3:1</div><label>"+a.bet[0].odds.s3_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='3_2'><div>3:2</div><label>"+a.bet[0].odds.s3_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='4_0'><div>4:0</div><label>"+a.bet[0].odds.s4_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='4_1'><div>4:1</div><label>"+a.bet[0].odds.s4_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='4_2'><div>4:2</div><label>"+a.bet[0].odds.s4_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='5_0'><div>5:0</div><label>"+a.bet[0].odds.s5_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='5_1'><div>5:1</div><label>"+a.bet[0].odds.s5_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='5_2'><div>5:2</div><label>"+a.bet[0].odds.s5_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='8'><div>胜其他</div><label>"+a.bet[0].odds.s+"</label></span>";c+="</td></tr><tr><td title="+a.bet[0].type+" style='text-align:left;'>";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='0_0'><div>0:0</div><label>"+a.bet[0].odds.s0_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='1_1'><div>1:1</div><label>"+a.bet[0].odds.s1_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2_2'><div>2:2</div><label>"+a.bet[0].odds.s2_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='3_3'><div>3:3</div><label>"+a.bet[0].odds.s3_3+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='7'><div>平其他</div><label>"+a.bet[0].odds.p+"</label></span>";c+="</td></tr><tr><td  title="+a.bet[0].type+" style='text-align:left;'>";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='0_1'><div>0:1</div><label>"+a.bet[0].odds.s0_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='0_2'><div>0:2</div><label>"+a.bet[0].odds.s0_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='1_2'><div>1:2</div><label>"+a.bet[0].odds.s1_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='0_3'><div>0:3</div><label>"+a.bet[0].odds.s0_3+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='1_3'><div>1:3</div><label>"+a.bet[0].odds.s1_3+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='2_3'><div>2:3</div><label>"+a.bet[0].odds.s2_3+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='0_4'><div>0:4</div><label>"+a.bet[0].odds.s0_4+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='1_4'><div>1:4</div><label>"+a.bet[0].odds.s1_4+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2_4'><div>2:4</div><label>"+a.bet[0].odds.s2_4+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='0_5'><div>0:5</div><label>"+a.bet[0].odds.s0_5+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='1_5'><div>1:5</div><label>"+a.bet[0].odds.s1_5+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2_5'><div>2:5</div><label>"+a.bet[0].odds.s2_5+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='6'><div>负其他</div><label>"+a.bet[0].odds.f+"</label></span>";c+="</td></tr></table>"}c+="</table></td></tr>"}c+="</tbody>";$("#scoreSelectShow").html(c)}else{$("#scoreSelectShow").html(getResult(f))}}function showSFP(d){if(d.s==200&&d.r){var f="";for(var i in d.r){var h=d.r[i];f+="<div><div class='data_block_header up'><span>"+h.date+"</span><span>"+h.week+"</span><span><span id='outer"+i+"'>"+h.size+"</span>场比赛</span></div>";f+="<div name='outer' title='"+i+"'>";for(var g in h.list){var c=h.list[g];var e=saveFilterItem(c.league,"L"+i+"_"+g);if(c.bet[0].sg){f+="<div class='item_block' name='"+e+"' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{f+="<div class='item_block' name='"+e+"'>"}f+="<div class='item_head'>";f+="<div class='item_head_right tz_block'>";f+="<span>";if(c.hlogo){f+="<img src='"+c.hlogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.home+"</b>(主)";f+="</span>";f+="<div class='item_body_first'>";f+="<p>"+c.league+"</p>";f+="<p>"+c.alias+" "+c.stop+"截止</p>";f+="<p>VS</p>";if(c.follow){f+="<div id='"+c.mid+"sfp' class='collect' onclick='followMatch(0,"+c.mid+", this)'>取消关注</div>"}else{f+="<div id='"+c.mid+"sfp' class='nocollect' onclick='followMatch(0,"+c.mid+", this)'>关注</div>"}f+="</div>";f+="<span>";if(c.glogo){f+="<img src='"+c.glogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.guest+"</b>(客)</span>";f+="</span>";f+="</div>";f+="<div class='clearf'></div>";f+="</div>";f+="<div class='item_body'>";f+="<table class='sfpTable' id="+c.mid+"><tbody>";for(var a in c.bet){var b=c.bet[a];if(b.let==0){f+="<tr title="+b.type+">";f+="<td style='display:none' title="+b.all+">"+b.sg+"</td>";f+="<td class='oddsItems firsttd' title='3'>胜<br/><label>"+b.odds.r3+"</label></td>";f+="<td class='oddsItems' title='1'>平<br/><label>"+b.odds.r1+"</label></td>";f+="<td class='oddsItems thirdtd' title='0'>负<br/><label>"+b.odds.r0+"</label></td>"}else{if(b.let>0){f+="<tr class='rang_title red_title'><td colspan='4'>让球 "+b.let+"</td></tr>"}else{f+="<tr class='rang_title green_title'><td colspan='4'>让球 "+b.let+"</td></tr>"}f+="<tr title="+b.type+">";f+="<td style='display:none' title="+b.all+">"+b.sg+"</td>";f+="<td class='oddsItems firsttd' title='3'>让胜<br/><label>"+b.odds.r3+"</label></td>";f+="<td class='oddsItems' title='1'>让平<br/><label>"+b.odds.r1+"</label></td>";f+="<td class='oddsItems thirdtd' title='0'>让负<br/><label>"+b.odds.r0+"</label></td>"}f+="</tr>"}f+="</tbody></table>";f+="<div class='clearf'></div>";f+="</div>";f+="</div>"}f+="</div>";f+="</div></div>"}$("#sfpSelectShow").html(f)}else{$("#sfpSelectShow").html(getResult(d))}}function getResult(a){if(a.s==501){return"<div class='login_pop'>去<a href='"+a.r+"'>登录</a></div>"}else{return"<div class='login_pop'>"+a.r+"</div>"}}function followMatch(d,b,f){if(needLogin()){return}if((d!=0&&d!=1)||!b){return}var a=$(f);var c=a.hasClass("nocollect");var e=a.attr("id");showLoading();(function(g){$.ajax({type:"post",url:getPath()+"/web/bet/follow.do",data:"matchType="+d+"&matchNum="+b+"&collect="+c+"&stat="+getLoginStat(d),dataType:"json",contentType:"application/x-www-form-urlencoded; charset=utf-8",success:function(h){hideLoading();if(h.s==200){if(c){$("#"+g).removeClass("nocollect").addClass("collect").html("取消关注")}else{$("#"+g).removeClass("collect").addClass("nocollect").html("关注")}}else{$("#"+g).html(getResult(h))}},error:function(h,j,i){hideLoading();console.log(h.responseText);console.log(h.status);console.log(h.readyState);console.log(h.statusText);console.log(j);console.log(i)}})}(e))}function showSF(d){if(d.s==200&&d.r){var f="";for(var i in d.r){var h=d.r[i];f+="<div><div class='data_block_header up'><span>"+h.date+"</span><span>"+h.week+"</span><span><span id='outer"+i+"'>"+h.size+"</span>场比赛</span></div>";f+="<div name='outer' title='"+i+"'>";for(var g in h.list){var c=h.list[g];var e=saveFilterItem(c.league,"L"+i+"_"+g);if(c.bet[0].sg){f+="<div class='item_block' name='"+e+"' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{f+="<div class='item_block' name='"+e+"'>"}f+="<div class='item_head'>";f+="<div class='item_head_right tz_block'>";f+="<span>";if(c.glogo){f+="<img src='"+c.glogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.guest+"</b>(客)";f+="</span>";f+="<div class='item_body_first'>";f+="<p>"+c.league+"</p>";f+="<p>"+c.alias+" "+c.stop+"截止</p>";f+="<p>VS</p>";if(c.follow){f+="<div id='"+c.mid+"sf' class='collect' onclick='followMatch(1,"+c.mid+", this)'>取消关注</div>"}else{f+="<div id='"+c.mid+"sf' class='nocollect' onclick='followMatch(1,"+c.mid+", this)'>关注</div>"}f+="</div>";f+="<span>";if(c.hlogo){f+="<img src='"+c.hlogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.home+"</b>(主)</span>";f+="</span>";f+="</div>";f+="<div class='clearf'></div>";f+="</div>";f+="<div class='item_body'>";f+="<table class='basketSf' id="+c.mid+"><tbody>";for(var a in c.bet){var b=c.bet[a];f+="<tr title="+b.type+">";f+="<td style='display:none' title="+b.all+">"+b.sg+"</td>";f+="<td class='oddsItems firsttd' title='0'>主负<br/><label>"+b.odds.r0+"</label></td>";f+="<td class='oddsItems thirdtd' title='3'>主胜<br/><label>"+b.odds.r3+"</label></td>";f+="</tr>"}f+="</tbody></table>";f+="<div class='clearf'></div>";f+="</div>";f+="</div>"}f+="</div>";f+="</div></div>"}$("#sfSelectShow").html(f)}else{$("#sfSelectShow").html(getResult(d))}}function showRQSF(d){if(d.s==200&&d.r){var f="";for(var i in d.r){var h=d.r[i];f+="<div><div class='data_block_header up'><span>"+h.date+"</span><span>"+h.week+"</span><span><span id='outer"+i+"'>"+h.size+"</span>场比赛</span></div>";f+="<div name='outer' title='"+i+"'>";for(var g in h.list){var c=h.list[g];var e=saveFilterItem(c.league,"L"+i+"_"+g);if(c.bet[0].sg){f+="<div class='item_block' name='"+e+"' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{f+="<div class='item_block' name='"+e+"'>"}f+="<div class='item_head'>";f+="<div class='item_head_right tz_block'>";f+="<span>";if(c.glogo){f+="<img src='"+c.glogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.guest+"</b>(客)";f+="</span>";f+="<div class='item_body_first'>";f+="<p>"+c.league+"</p>";f+="<p>"+c.alias+" "+c.stop+"截止</p>";f+="<p>VS</p>";if(c.follow){f+="<div id='"+c.mid+"rqsf' class='collect' onclick='followMatch(1,"+c.mid+", this)'>取消关注</div>"}else{f+="<div id='"+c.mid+"rqsf' class='nocollect' onclick='followMatch(1,"+c.mid+", this)'>关注</div>"}f+="</div>";f+="<span>";if(c.hlogo){f+="<img src='"+c.hlogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.home+"</b>(主)</span>";f+="</span>";f+="</div>";f+="<div class='clearf'></div>";f+="</div>";f+="<div class='item_body'>";f+="<table class='basketSf' id="+c.mid+"><tbody>";for(var a in c.bet){var b=c.bet[a];if(b.let>0){f+="<tr class='rang_title red_title' title="+b.type+"><td colspan='3'>主让"+b.let+"</td></tr>"}else{if(b.let<=0){f+="<tr class='rang_title green_title' title="+b.type+"><td colspan='3'>主让"+b.let+"</td></tr>"}}f+="<tr title="+b.type+">";f+="<td style='display:none' title="+b.all+">"+b.sg+"</td>";f+="<td class='oddsItems firsttd' title='0'>主负<br><label>"+b.odds.r0+"</label></td>";f+="<td class='oddsItems thirdtd' title='3'>主胜<br><label>"+b.odds.r3+"</label></td>";f+="</tr>"}f+="</tbody></table>";f+="<div class='clearf'></div>";f+="</div>";f+="</div>"}f+="</div>";f+="</div></div>"}$("#rsfSelectShow").html(f)}else{$("#rsfSelectShow").html(getResult(d))}}function showSFC(f){if(f.s==200&&f.r){var c="<tbody>";for(var e in f.r){var g=f.r[e];c+="<tr class='thead' trIndex='tr"+e+"'><td colspan='5'><div class='data_block_header up'><span>"+g.date+"</span><span>"+g.week+"</span><span>"+g.size+"场比赛</span></div></td></tr>";c+="<tr><td><table lindex='tr"+e+"'>";for(var b in g.list){var a=g.list[b];var d=saveFilterItem(a.league,"L"+e+"_"+b);c+="<tr class='listTr' name='"+d+"'>";if(a.bet[0].sg){c+="<td colspan='5' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{c+="<td colspan='5'>"}c+="<div class='item_head'>";c+="<div class='item_head_right tz_block'>";c+="<span>";if(a.glogo){c+="<img src='"+a.glogo+"'><br />"}else{c+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}c+="<b>"+a.guest+"</b>(客)</span>";c+="<div class='item_body_first'>";c+="<p>"+a.league+"</p>";c+="<p>"+a.alias+" "+a.stop+"截止</p>";c+="<p>VS</p>";if(a.follow){c+="<div id='"+a.mid+"size' class='collect' onclick='followMatch(1,"+a.mid+", this)'>取消关注</div>"}else{c+="<div id='"+a.mid+"size' class='nocollect' onclick='followMatch(1,"+a.mid+", this)'>关注</div>"}c+="</div>";c+="<span>";if(a.hlogo){c+="<img src='"+a.hlogo+"'><br />"}else{c+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}c+="<br /><b>"+a.home+"</b>(主)</span>";c+="</div>";c+="<div class='clearf'></div>";c+="</div>";c+="<td></tr>";c+="<tr  name='"+d+"' class='crsOddsTr'><td colspan='5'class='td_padding ttgOdds'style='width:480px;'><table id="+a.mid+" class='crsOdds' width='100%'><tbody>";c+="<tr><td title="+a.bet[0].type+">";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='halfItem oddsItems radius3-l' title='1_5_k'><div>客胜1-5</div><label>"+a.bet[0].odds.r1_5_k+"</label></span>";c+="<span class='halfItem oddsItems' title='6_10_k'><div>客胜6-10</div><label>"+a.bet[0].odds.r6_10_k+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='11_15_k'><div>客胜11-15</div><label>"+a.bet[0].odds.r11_15_k+"</label></span>";c+="<span class='halfItem oddsItems radius3-l' title='16_20_k'><div>客胜16-20</div><label>"+a.bet[0].odds.r16_20_k+"</label></span>";c+="<span class='halfItem oddsItems' title='21_25_k'><div>客胜21-25</div><label>"+a.bet[0].odds.r21_25_k+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='26_k'><div>客胜26+</div><label>"+a.bet[0].odds.r26_k+"</label></span>";c+="</td></tr>";c+="<tr><td title="+a.bet[0].type+">";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='halfItem oddsItems radius3-l' title='1_5_z'><div>主胜1-5</div><label>"+a.bet[0].odds.r1_5_z+"</label></span>";c+="<span class='halfItem oddsItems' title='6_10_z'><div>主胜6-10</div><label>"+a.bet[0].odds.r6_10_z+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='11_15_z'><div>主胜11-15</div><label>"+a.bet[0].odds.r11_15_z+"</label></span>";c+="<span class='halfItem oddsItems radius3-l' title='16_20_z'><div>主胜16-20</div><label>"+a.bet[0].odds.r16_20_z+"</label></span>";c+="<span class='halfItem oddsItems' title='21_25_z'><div>主胜21-25</div><label>"+a.bet[0].odds.r21_25_z+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='26_z'><div>主胜26+</div><label>"+a.bet[0].odds.r26_z+"</label></span>";c+="</td></tr>";c+="</tbody></table></td></tr>"}c+="</table></td></tr>"}$("#sfcSelectShow").append(c+"</tbody>")}else{$("#sfcSelectShow").html(getResult(f))}}function showSize(d){if(d.s==200&&d.r){var f="";for(var i in d.r){var h=d.r[i];f+="<div><div class='data_block_header up'><span>"+h.date+"</span><span>"+h.week+"</span><span><span id='outer"+i+"'>"+h.size+"</span>场比赛</span></div>";f+="<div name='outer' title='"+i+"'>";for(var g in h.list){var c=h.list[g];var e=saveFilterItem(c.league,"L"+i+"_"+g);if(c.bet[0].sg){f+="<div class='item_block' name='"+e+"' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{f+="<div class='item_block' name='"+e+"'>"}f+="<div class='item_head'>";f+="<div class='item_head_right tz_block'>";f+="<span>";if(c.glogo){f+="<img src='"+c.glogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.guest+"</b>(客)";f+="</span>";f+="<div class='item_body_first'>";f+="<p>"+c.league+"</p>";f+="<p>"+c.alias+" "+c.stop+"截止</p>";f+="<p>VS</p>";if(c.follow){f+="<div id='"+c.mid+"size' class='collect' onclick='followMatch(1,"+c.mid+", this)'>取消关注</div>"}else{f+="<div id='"+c.mid+"size' class='nocollect' onclick='followMatch(1,"+c.mid+", this)'>关注</div>"}f+="</div>";f+="<span>";if(c.hlogo){f+="<img src='"+c.hlogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.home+"</b>(主)</span>";f+="</span>";f+="</div>";f+="<div class='clearf'></div>";f+="</div>";f+="<div class='item_body'>";f+="<table class='basketSf' id="+c.mid+"><tbody>";for(var a in c.bet){var b=c.bet[a];f+="<tr class='rang_title red_title' title="+b.type+"><td colspan='3'>["+b.pre+"]</td></tr>";f+="<tr title="+b.type+">";f+="<td style='display:none' title="+b.all+">"+b.sg+"</td>";f+="<td class='oddsItems radius3-l' title='big'>大分<br><label>"+b.odds.big+"</label></td>";f+="<td class='oddsItems radius3-r' title='small'>小分<br><label>"+b.odds.small+"</label></td>";f+="</tr>"}f+="</tbody></table>";f+="<div class='clearf'></div>";f+="</div>";f+="</div>"}f+="</div>";f+="</div></div>"}$("#sizeSelectShow").html(f)}else{$("#sizeSelectShow").html(getResult(d))}}function keyboardPop(){$("#keyboard").show()}function clickKeyboardOK(){$("#keyboard").hide();calculate()}clickKeyboard=function(a){var b=$("#times").text();if($("#initTimes").val()=="true"){$("#initTimes").val("false");if(a==0){b=1}else{b=a}}else{if(b==""){b=1}if(b.length>=2){showTipsPop("投注倍数最高到99倍","2000");b=99}else{b=b+a}}$("#times").text(b);$("#multiple").text(b)};clickKeyboardDel=function(){var a=$("#times").text();if(a.length==1){a=1;$("#initTimes").val("true")}else{if(a.length==2){a=a.substr(0,1)}}$("#times").text(a);$("#multiple").text(a)};function getLoginStat(a){if(a==0){return"bet"}return"betB"}function bet(){if(needLogin()){return}var h=$("#bonus").html();if(Number(h)<=0){var e=getMaxMatchCount();if(e<=0){showTipsPop("请至少选择一场比赛","2000")}else{showTipsPop("请至少选择两场比赛","2000");liu}return}var a=0;if($(".bskballTab").hasClass("current")){a=1}var j=Number($("#times").html());if(j<1){showTipsPop("倍数错误:"+$("#times").html(),"2500");return}var g=Number($("#consume").html());if(g<2){showTipsPop("注数错误:"+$("#consume").html(),"2500");return}g/=2;g/=j;var d=new Array();$("#allSelect .checked").each(function(){d.push($(this).attr("title"))});if(d.length<=0){showTipsPop("过关方式错误:"+d,"2500");return}var i=d.join(",");var b=new Array();$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){var k=new Array();$(this).find(".oddsItems.checked").each(function(l){if(l==0){k.push($(this).parent().attr("title"))}k.push($(this).attr("title"))});if(k.length>0){b.push($(this).attr("id")+":"+k.join(","))}});if(b.length<1){showTipsPop("获取投注信息失败","2000");return}var f=b.join(";");var c=getLoginStat(a);showLoading();$.ajax({type:"post",url:getPath()+"/web/bet/go.do",data:{matchType:a,multiple:j,betNum:g,pass:i,betInfo:f,t:token,stat:c},dataType:"json",contentType:"application/x-www-form-urlencoded; charset=utf-8",success:function(k){hideLoading();if(k.s==200&&k.r){showTipsPop(k.r,"2000");setTimeout(function(){location.href=getPath()+"/htmlwx/myOdds.html"},2000)}else{var l;if(k.s==501){l="<div class='login_pop'>去<a href='"+k.r+"'>登录</a></div>";$("#"+$("a.tab_item.current").attr("id")+"Show").html(l);return}else{if(k.s==508){l+="请<input type=button value='刷新' onclick='location.reload()'>页面";$("#"+$("a.tab_item.current").attr("id")+"Show").html(l);return}else{l=k.r}}showTipsPop(l,"2000")}},error:function(k,m,l){hideLoading();console.log(k.responseText);console.log(k.status);console.log(k.readyState);console.log(k.statusText);console.log(m);console.log(l)}})}function saveFilterItem(b,c){var a=filterArray[b];if(!a){filterArray[b]=c;return c}else{return a}}function initFilter(){var b="";for(var a in filterArray){b+="<a href='#' name='"+filterArray[a]+"' onclick='toggleFilterItem(this)' class='current'>"+a+"</a>"}if(b){$("#fitlerItemDiv").html(b);filterArray=new Array()}else{$("#fitlerItemDiv").html("")}}function filterItem(){$("#filter").data("mmenu").close();$("#fitlerItemDiv a").each(function(){var b=$(this).attr("name");var a=$(this).hasClass("current");$("div[name='"+b+"']").each(function(){if(a){$(this).show()}else{$(this).hide()}});$("tr[name='"+b+"']").each(function(){if(a){$(this).show()}else{$(this).hide()}})});$("div[name='outer']").each(function(){var a=0;$(this).children(".item_block").each(function(){if($(this).css("display")=="block"){a++}});$("#outer"+$(this).attr("title")).html(a)});clearAll()}function toggleFilterItem(a){$(a).toggleClass("current")}function selectFilterItem(){$("#fitlerItemDiv a").addClass("current")}function unSelectFilterItem(){$("#fitlerItemDiv a").removeClass("current")}function showTipsPop(a,b){$("body").append("<div class='tips_pop'></div>");$(".tips_pop").show().html(a);setTimeout(function(){$(".tips_pop").remove()},b)}function showLoading(){$("body").append("<div class='loading_wrap'><span class='loading_ico'></span></div>")}function hideLoading(){$(".loading_wrap").remove()}function showDetail(){$("#bonusDiv").toggle();if($("#bonusDiv").is(":visible")){setScroll(false);$(".bet_mask").show();$("#allSelect").hide();$("#bonusDetail").hide();var v=Number($("#times").html());var c=new Array();$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){if($(this).find(".oddsItems.checked").length){c.push($(this).attr("id"))}});var o="";for(var s=c.length;s>0;--s){var t=group(c,s);var m=Number.MAX_VALUE;var r=0;var l;var y;for(var p in t){var q=0;var u=0;var g=new Array();for(var e=s;e>0;--e){if(!bonusDetail[e]){continue}g[e]=new Array();var d=0;var f=0;var n=0;var w=group(t[p],e);var a=bonusDetail[e];for(var x in w){var h=w[x];for(var b in a){var j=a[b];if(equalArray(h,j.m)){d+=j.min;f+=j.max;n=j.count;g[e].push(b);break}}}q+=d*n;u+=f*n}if(m>q){m=q;l=g}if(r<u){r=u;y=g}}if(r==0||m==0){continue}m*=v*2;m=m.toFixed(2);r*=v*2;r=r.toFixed(2);o+="<tr>";o+="<td>";o+=s;o+="</td>";o+="<td class='red'>";o+="<a href='javascript:void(0)' onclick=showOddDetail("+JSON.stringify(l)+",'min')>";o+=m;o+="</a>";o+="</td>";o+="<td>";o+="~";o+="</td>";o+="<td class='red'>";o+="<a href='javascript:void(0)' onclick=showOddDetail("+JSON.stringify(y)+",'max')>";o+=r;o+="</a>";o+="</td>";o+="</tr>"}$("#bonusTable").html(o)}else{$("#bonusDetail").hide();$(".bet_mask").hide();setScroll(true)}}function showOddDetail(a,b){var d="";var f=-1;for(var c in a){if(!a[c]){continue}if(-1==f){f=c}var e=numMapCnumpass(c);d+="<div class='showModeEvery' id='oddsDetail"+c+"' onclick='clickOdds("+c+","+JSON.stringify(a[c])+',"'+b+"\")'><span class='showModeText'>"+e+"</span></div>"}$("#passDiv").html(d);$("#oddsDetail"+f).click();$("#bonusDetail").show();$(".bet_mask").show()}function clickOdds(f,m,b){var q=$("#oddsDetail"+f);if(q.hasClass("checked")){return}else{if(!q.hasClass("checked")){q.addClass("checked").siblings().removeClass("checked");var p=bonusDetail[f];$("#passSpan").html(numMapCnumpass(f));var l=0;var r=Number($("#times").html());var g="<div class='pass_list'>";var n=0;for(var e in m){var h="<div class='pass_item'>【"+(Number(e)+1)+"】";var o=p[m[e]].o[b];var a=p[m[e]].count;l+=a;var c=1;for(var d in o){c*=o[d];h+=o[d];h+="*"}h+=a;h+="注*";h+=r;h+="倍";h+="*2元";h+="=";c*=r*2*a;h+=c.toFixed(2);h+="元";h+="</div>";g+=h;n+=c}$("#countSpan").html(l*r);$("#bonusSpan").html(n.toFixed(2));$("#detailDiv").html(g)}}}function hideById(a){$("#"+a).hide();if(a=="bonusDiv"){$(".bet_mask").hide();setScroll(true)}}function hidePop(){$(".bet_mask").hide();$("#allSelect").hide();$("#bonusDiv").hide();$("#bonusDetail").hide();setScroll(true)}function hideBonus(){$(".bet_mask").hide();$("#bonusDiv").hide();$("#bonusDetail").hide();setScroll(true)}function setScroll(a){if(a){$("body").css({overflow:"auto"});$("html").css({overflow:"auto"})}else{$("html").css({height:"100%",overflow:"hidden"});$("body").css({height:"100%",overflow:"hidden"})}}function numMapCnumpass(a){var b=[undefined,"单关","两关","三关","四关","五关","六关","七关","八关"];return b[Number(a)]};