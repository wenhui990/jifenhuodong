$.getScript("../js/jc_hh_odds.js",function(){});var token=0;var filterArray=new Array();var mnArray=[[],[],[["2x1","2"]],[["3x1","3"],["3x3","2"],["3x4","23"]],[["4x1","4"],["4x4","3"],["4x5","34"],["4x6","2"],["4x11","234"]],[["5x1","5"],["5x5","4"],["5x6","45"],["5x10","2"],["5x16","345"],["5x20","23"],["5x26","2345"]],[["6x1","6"],["6x6","5"],["6x7","56"],["6x15","2"],["6x20","3"],["6x22","456"],["6x35","23"],["6x42","3456"],["6x50","234"],["6x57","23456"]],[["7x1","7"],["7x7","6"],["7x8","67"],["7x21","5"],["7x35","4"],["7x120","234567"]],[["8x1","8"],["8x8","7"],["8x9","87"],["8x28","6"],["8x56","5"],["8x70","4"],["8x247","2345678"]]];$(function(){$("#calculator_menu a.tab_item").click(function(){if(!$(this).hasClass("current")){$("#"+$("a.tab_item.current").attr("id")+"Show").empty();$(this).addClass("current");$(this).siblings(".tab_item").removeClass("current");if($(this).attr("id")=="sfpSelect"){$(".sfpShow").show();$(".sfpShow").siblings(".tab_list").hide();searchBet(0,"1,2")}else{if($(this).attr("id")=="scoreSelect"){$(".scoreShow").show();$(".scoreShow").siblings(".tab_list").hide();searchBet(0,"4")}else{if($(this).attr("id")=="totalballSelect"){$(".totalballShow").show();$(".totalballShow").siblings(".tab_list").hide();searchBet(0,"3")}else{if($(this).attr("id")=="halfSelect"){$(".halfShow").show();$(".halfShow").siblings(".tab_list").hide();searchBet(0,"5")}else{if($(this).attr("id")=="mixSelect"){$(".mixSelectShow").show();$(".mixSelect").siblings(".tab_list").hide();var a=0;if($(".bskballTab").hasClass("current")){a=1}if(a==0){searchBet(0,"1,2,3,4,5")}else{searchBet(1,"11,12,13,14")}}else{if($(this).attr("id")=="sfSelect"){$(".sfShow").show();$(".sfShow").siblings(".tab_list").hide();searchBet(1,"11")}else{if($(this).attr("id")=="rsfSelect"){$(".rsfShow").show();$(".rsfShow").siblings(".tab_list").hide();searchBet(1,"12")}else{if($(this).attr("id")=="sfcSelect"){$(".sfcShow").show();$(".sfcShow").siblings(".tab_list").hide();searchBet(1,"13")}else{if($(this).attr("id")=="sizeSelect"){$(".sizeShow").show();$(".sizeShow").siblings(".tab_list").hide();searchBet(1,"14")}}}}}}}}}initPassWay()}});if($(".ftballTab").hasClass("current")){searchBet(0,"1,2,3,4,5")}else{if($(".bskballTab").hasClass("current")){searchBet(1,"11,12,13,14")}}initPassWay();$("#passSelection").click(function(){if($("#allSelect").is(":hidden")){$(this).siblings("#allSelect").show();hideBonus()}else{$(this).siblings("#allSelect").hide();hideBonus()}});$("#showDetail").click(function(a){a.stopPropagation();if(isMix()){showLoading();setTimeout(function(){showDetail()},10)}else{showDetail()}})});function equals(b,a){if(b.length!=a.length){return false}for(var c=0;c<b.length;c++){if(b[c]!=a[c]){return false}}return true}function needLogin(){var b=getCookie(cookieKey);if(!b){var a="/htmlwx/login.html?stat=betmn";var c=0;if($(".bskballTab").hasClass("current")){a="/htmlwx/login.html?stat=betBmn"}location.href=getPath()+a;return true}return false}function showMNOption(){var f=getMaxMatchCount();if(isMix()){$("div.mixPop .mixTable").each(function(){if($(this).find(".checked").length){var g=Number($(this).attr("title"));if(f>g){f=g}}})}var c=$("#mnDiv").attr("title");if(f==c){$("#mnDiv .showModeEvery").each(function(g){$(this).removeClass("gray")});return}var e="";for(var a=3;a<=f;++a){for(var b=1;b<mnArray[a].length;b++){var d=mnArray[a][b][0].replace("x","");e+="<div class='showModeEvery' pass="+d+" title='"+mnArray[a][b][1]+"' mnm="+mnArray[a][b][0].charAt(0)+"><span class='showModeText'>"+mnArray[a][b][0]+"</span></div>"}}$("#mnDiv").attr("title",f).html(e);$("#mnDiv .showModeEvery").click(function(){if($(this).hasClass("checked")){$(this).removeClass("checked");resetPassWayTitle();if(isMix()){showLoading();setTimeout(function(){calculate()},10)}else{calculate()}}else{if(!$(this).hasClass("checked")){var g=0;$("#allSelect .checked").each(function(){g++});if(g>=5){showTipsPop("您好，最多只能选择5个过关方式!","2500");return}$(this).addClass("checked");resetPassWayTitle();if(isMix()){showLoading();setTimeout(function(){calculate()},10)}else{calculate()}}}})}function checkClick(a){$(".oddsItems").click(function(){$("#bonusDiv").hide();$("#bonusDetail").hide();if($(this).hasClass("checked")){$(this).removeClass("checked");selectPassWay($(this));calculate()}else{var d=$(this).siblings(":eq(0)");var b=d.html();var e=$(this).closest("tr").siblings("tr").find("td.checked");if(e.length){showTipsPop("一场比赛只能选择一种玩法进行串关计算","2500")}else{var c=getMaxMatchCount();if(c>=8&&$(this).siblings(".checked").length<=0){showTipsPop("最多只能选8场比赛","2000");return}$(this).addClass("checked");selectPassWay($(this));calculate()}}resetPassWayTitle();showMNOption()});$(".data_block_header").click(function(){if($(this).hasClass("up")){$(this).removeClass("up").addClass("down");$(this).next("div").hide();var b=$(this).closest("tr").attr("trIndex");$(".mainTbl table[lindex="+b+"]").hide()}else{if($(this).hasClass("down")){$(this).removeClass("down").addClass("up");$(this).next("div").show();var b=$(this).closest("tr").attr("trIndex");$(".mainTbl table[lindex="+b+"]").show()}}})}function isMix(){return"mixSelect"==$("a.tab_item.current").attr("id")}function checkMixClick(){$("td.mixtd .oddsItems").click(function(){if($(this).hasClass("checked")){$(this).removeClass("checked");$("#"+$(this).attr("name")).removeClass("checked");selectMixPassWay()}else{var a=getMaxMatchCount();if(a>=8&&$(this).siblings(".checked").length<=0){showTipsPop("最多只能选8场比赛","2000");return}$(this).addClass("checked");$("#"+$(this).attr("name")).addClass("checked");selectMixPassWay()}resetPassWayTitle();showMNOption();calculateMixBetCount();calBonus()});$("td.poptd .oddsItems").click(function(){if($(this).hasClass("checked")){$(this).removeClass("checked")}else{var a=getMaxMatchCount();if(a>=8){var b=$("#"+$(this).attr("name")+"div .checked").length;if(b<=0){showTipsPop("最多只能选8场比赛","2000");return}}$(this).addClass("checked")}});$(".data_block_header").click(function(){if($(this).hasClass("up")){$(this).removeClass("up").addClass("down");$(this).next("div").hide();var a=$(this).closest("tr").attr("trIndex");$(".mainTbl table[lindex="+a+"]").hide()}else{if($(this).hasClass("down")){$(this).removeClass("down").addClass("up");$(this).next("div").show();var a=$(this).closest("tr").attr("trIndex");$(".mainTbl table[lindex="+a+"]").show()}}})}function resetPassWayTitle(){var a=0;$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){var c=$(this).find(".checked");if(c.length>0){var d=c.siblings(":eq(0)");if(d.length>0){if("true"==d.html()){a++}}}});var b=new Array();$("#allSelect .checked").each(function(){if("1"==$(this).attr("title")&&a>1){b.push($(this).children("span").html()+"("+a+")")}else{b.push($(this).children("span").html())}});if(b.length==0){$("#passSelection").html("过关选择")}else{$("#passSelection").html(b.join(", "));if($("#passSelection").html().length>20){$("#passSelection").css({"line-height":"1.4em","font-size":"10px"})}else{$("#passSelection").css({"line-height":"30px","font-size":"11px"})}}}function getMaxMatchCount(){var a=0;if(isMix()){$("div.mixPop").each(function(){if($(this).find(".checked").length){a++}})}else{$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){if($(this).find(".checked").length){a++}})}return a}function selectMixPassWay(){var a=getMaxMatchCount();$("div.mixPop .mixTable").each(function(){if($(this).find(".checked").length){var c=Number($(this).attr("title"));if(a>c){a=c}}});var b=$("#mnDiv").attr("title");if(a==b){return}if(a==0){$("#allSelect .showModeEvery").each(function(c){$(this).removeClass("checked").addClass("gray")})}else{$("#mnDiv").show();$("#allSelect .showModeEvery").each(function(c){if(c==0){return}if(c==(a-1)){$(this).removeClass("gray").addClass("checked")}else{if(c<a-1){$(this).removeClass("gray").removeClass("checked")}else{$(this).removeClass("checked").addClass("gray")}}})}}function selectPassWay(f){var g="true";var h="false";if(f){var b=f.siblings(":eq(0)");if(b.length){g=b.attr("title");h=b.html()}}var d=getMaxMatchCount();var j=$("#mnDiv").attr("title");if(d==j){return}if(d==0){$("#allSelect .showModeEvery").each(function(l){$(this).removeClass("checked").addClass("gray")})}else{var e=$("#calculator_menu a.tab_item.current");var c=e.attr("title");c=Number(c);if(d>c){showTipsPop("超过"+c+"场比赛,只能按单关计算","2000");$("#mnDiv").hide();d=1}else{$("#mnDiv").show()}var i=false;var a=true;if(d>0){$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){var l=$(this).find(".checked");if(l.length>0){var m=l.siblings(":eq(0)");if(m.length>0){if("true"==m.html()){i=true}else{a=false}}}})}$("#allSelect .showModeEvery").each(function(l){if(l==0&&h=="false"&&!i){return}if(l>0&&g=="false"){return}if(l==(d-1)){$(this).removeClass("gray").addClass("checked")}else{if(l<d-1){$(this).removeClass("gray").removeClass("checked")}else{$(this).removeClass("checked").addClass("gray")}}});if(d>0&&(a||i)){$("#allSelect .showModeEvery[title=1]").removeClass("gray");if(d==1){$("#allSelect .showModeEvery[title=1]").addClass("checked")}}else{$("#allSelect .showModeEvery[title=1]").addClass("gray")}}}var bonusDetail;function calculate(){if(isMix()){calculateMixBetCount();calBonus();return}var c=0;var b=0;bonusDetail=new Array();var d=new Array();$("#allSelect .checked").each(function(){var l=$(this).attr("title");if(l=="1"){bonusDetail[1]=new Array();$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){var i=$(this).find(".oddsItems.checked");if(!i.length){return true}var r=0;var q=Number.MAX_VALUE;var p=false;i.each(function(){if($(this).siblings(":eq(0)").html()=="true"){c++;var t=Number($(this).children("label").html());if(r<t){r=t}if(q>t){q=t}p=true}});b+=r;if(!p){return true}var s={count:1,m:new Array(),o:{min:new Array(),max:new Array()},min:q,max:r};s.m.push($(this).attr("id"));s.o.max.push(r);s.o.min.push(q);bonusDetail[1].push(s)})}else{if(d.length==0){$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){if($(this).find(".oddsItems.checked").length){d.push($(this).attr("id"))}})}var j=$(this).attr("mnm");var h;if(j&&d.length>Number(j)){h=cmn(d,Number(j))}for(var g=0;g<l.length;++g){var n=l.charAt(g);if(h){for(var m in h){var o=h[m];var f=caculateDetail(o,n);c+=f.totalCount;b+=f.totalMaxReward}}else{var f=caculateDetail(d,n);c+=f.totalCount;b+=f.totalMaxReward}}}});var a=Number($("#times").html());$("#consume").html(c*2*a);var e=b*2*a;if(e>0){e=e.toFixed(2)}$("#bonus").html(e)}function caculateDetail(e,b){var n={totalCount:0,totalMaxReward:0};var c=e;if(e.length>b){c=cmn(e,b)}else{c=new Array();c.push(e)}if(!bonusDetail[b]){bonusDetail[b]=new Array()}var t=0;var h=0;var l=1;var f=1;for(var o in c){var j=c[o];var u=true;for(var r in bonusDetail[b]){if(equals(j,bonusDetail[b][r].m)){bonusDetail[b][r].count+=1;u=false}}var p;if(u){p={count:1,m:j,o:{min:new Array(),max:new Array()},min:0,max:0}}var f=1;var l=1;var s=1;for(var d in j){var q=c[o][d];var g=0;var a=0;var v=Number.MAX_VALUE;$("#"+q+" .oddsItems.checked").each(function(){var i=Number($(this).children("label").html());if(a<i){a=i}if(v>i){v=i}g++});f*=v;l*=a;s*=g;if(u){p.o.min.push(v);p.o.max.push(a)}}if(u){p.min=f;p.max=l;bonusDetail[b].push(p)}t+=s;h+=l}n.totalCount=t;n.totalMaxReward=h;return n}function clearAll(){$(".oddsItems.checked").removeClass("checked");$("#multiple").html("1");$("#times").html("1");$("#consume").html("0");$("#bonus").html("0");$("#passSelection").html("过关选择");$("#allSelect .showModeEvery").each(function(){$(this).removeClass("checked").addClass("gray")})}function cmn(c,g,a){var a=a?a:[];var d=c.length;var h=d-g;var b=c.slice(0);var f=b.shift();f=f.constructor===Array?f:[f];(function e(n,i){var p;var m=i.slice(0);var o=g-n.length;if(o==0){a.push(n);return}if(o==1){for(var l in i){p=n.slice(0);p.push(i[l]);a.push(p)}}if(o>1){p=n.slice(0);p.push(m.shift());e(p,m);if(n.length+m.length>=g){e(n,m)}}})(f,b);if(b.length>=g){return cmn(b,g,a)}else{return a}}function getLoginStat(a){if(a==0){return"betmn"}return"betBmn"}function searchBet(d,c){if(!d&&!c){return}var a="/web/bet/match.do";var b=getCookie(cookieKey);if(!b){a="/web/bet/match/preview.do"}showLoading();$.ajax({type:"post",url:getPath()+a,data:"matchType="+d+"&oddsType="+c+"&stat="+getLoginStat(d),dataType:"json",contentType:"application/x-www-form-urlencoded; charset=utf-8",success:function(e){hideLoading();if(e.s==200){token=e.t;clearAll()}if(d==0){if(c=="1,2"){showSFP(e);checkClick()}else{if(c=="3"){showTotalGoal(e);checkClick()}else{if(c=="4"){showScore(e);checkClick()}else{if(c=="5"){showHalfAll(e);checkClick()}else{if(c=="1,2,3,4,5"){showMix(e,d);checkMixClick()}}}}}}else{if(c=="11"){showSF(e);checkClick()}else{if(c=="12"){showRQSF(e);checkClick()}else{if(c=="13"){showSFC(e);checkClick()}else{if(c=="14"){showSize(e);checkClick()}else{if(c=="11,12,13,14"){showMix(e,d);checkMixClick()}}}}}}initFilter()},error:function(e,g,f){hideLoading();console.log(e.responseText);console.log(e.status);console.log(e.readyState);console.log(e.statusText);console.log(g);console.log(f)}})}function initPassWay(){var a=$("#calculator_menu a.tab_item.current");var e=a.attr("title");e=Number(e);var d="";var c="";for(var b=1;b<=e;++b){if(b==1){c="单关"}else{c=b+"串1"}d+="<div class='showModeEvery gray' title='"+b+"'><span class='showModeText'>"+c+"</span></div>"}$("#showModes").html(d);$("#allSelect .showModeEvery").click(function(){if($(this).hasClass("checked")){$(this).removeClass("checked");resetPassWayTitle();calculate()}else{if(!$(this).hasClass("checked")&&!$(this).hasClass("gray")){var f=0;$("#allSelect .checked").each(function(){f++});if(f>=5){showTipsPop("您好，最多只能选择5个过关方式!","2500");return}$(this).addClass("checked");resetPassWayTitle();calculate()}}})}function showMix(h,c){if(h.s==200&&h.r){var j="<tbody>";for(var o in h.r){var n=h.r[o];j+="<tr class='thead' trIndex='tr"+o+"'><td colspan='5'><div class='data_block_header up'><span>"+n.date+"</span><span>"+n.week+"</span><span>"+n.size+"场比赛</span></div></td></tr>";j+="<tr><td><table lindex='tr"+o+"'>";for(var l in n.list){var g=n.list[l];var i=saveFilterItem(g.league,"L"+o+"_"+l);j+="<tr class='listTr' name='"+i+"'>";j+="<td colspan='5'>";j+="<div class='item_head'>";j+="<div class='item_head_right tz_block'>";j+="<span>";if(g.hlogo){j+="<img src='"+g.hlogo+"'><br />"}else{j+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}j+="<b>"+g.home+"</b>(主)</span>";j+="<div class='item_body_first'>";j+="<p>"+g.league+"</p>";j+="<p>"+g.alias+" "+g.stop+"截止</p>";j+="<p>VS</p>";if(g.follow){j+="<div id='"+g.mid+"halfall' class='collect' onclick='followMatch("+c+","+g.mid+", this)'>取消关注</div>"}else{j+="<div id='"+g.mid+"halfall' class='nocollect' onclick='followMatch("+c+","+g.mid+", this)'>关注</div>"}j+="</div>";j+="<span>";if(g.glogo){j+="<img src='"+g.glogo+"'><br />"}else{j+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}j+="<b>"+g.guest+"</b>(客)</span>";j+="</div>";j+="<div class='clearf'></div>";j+="</div>";j+="<td></tr>";j+="<tr  name='"+i+"' class='crsOddsTr'><td colspan='5'class='td_padding ttgOdds'style='width:480px;'><table class='crsOdds' width='100%'><tbody><tr>";if(c==0){j+="<td title="+g.bet[0].type+" class='mixtd lst_1'>"}else{if(c==1){j+="<td title="+g.bet[0].type+" class='mixtd lst_2'>"}}var e="";var b="";for(var a in g.bet){var d=g.bet[a];if(d.type==1){e+="<span id='"+g.mid+"spf3v' name='"+g.mid+"spf3' class='halfItem oddsItems radius3-l' title='3'><div>胜</div><label>"+d.odds.r3+"</label></span>";e+="<span id='"+g.mid+"spf1v' name='"+g.mid+"spf1' class='halfItem oddsItems' title='1'><div>平</div><label>"+d.odds.r1+"</label></span>";e+="<span id='"+g.mid+"spf0v' name='"+g.mid+"spf0' class='halfItem oddsItems radius3-r' title='0'><div>负</div><label>"+d.odds.r0+"</label></span>"}else{if(d.type==2){if(d.let>0){b+="<span class='rang_title red_title'>让球 "+d.let+"</span>"}else{b+="<span class='rang_title green_title'>让球 "+d.let+"</span>"}b+="<span id='"+g.mid+"rqspf3v' name='"+g.mid+"rqspf3' class='halfItem oddsItems radius3-l' title='13'><div>胜</div><label>"+d.odds.r3+"</label></span>";b+="<span id='"+g.mid+"rqspf1v' name='"+g.mid+"rqspf1' class='halfItem oddsItems' title='11'><div>平</div><label>"+d.odds.r1+"</label></span>";b+="<span id='"+g.mid+"rqspf0v' name='"+g.mid+"rqspf0' class='halfItem oddsItems radius3-r' title='10'><div>负</div><label>"+d.odds.r0+"</label></span>"}else{if(d.type==11){j+="<span id='"+g.mid+"sf0v' name='"+g.mid+"sf0' class='halfItem oddsItems firsttd' title='0'><div>客胜</div><label>"+d.odds.r0+"</label></span>";j+="<span id='"+g.mid+"sf3v' name='"+g.mid+"sf3' class='halfItem oddsItems thirdtd' title='3'><div>主胜</div><label>"+d.odds.r3+"</label></span>"}}}}j+=e+b;if(c==0){j+="</td><td class='showBtnTd'><div class='ls_showBtn' onclick=showMixPop('"+g.mid+"')>展开<br/>全部</div></td></tr>"}else{if(c==1){j+="</td><td class='showBtnTd'><div class='ls_showBtn ls_2' onclick=showMixPop('"+g.mid+"')>展开</div></td></tr>"}}j+="<tr><td class='poptd'>";var f=showMix2(g,c);j+=f;j+="</td></tr>";j+="</tbody></table></td></tr>"}j+="</table></td></tr>"}$("#mixSelectShow").html(j+"</tbody>")}else{$("#mixSelectShow").html(getResult(h))}}function showMixPop(a){$("#"+a+"div").show()}function hideMixPop(b,a){$("#"+b+"div").hide();if("0"==a){cancelOdds(b)}else{checkOdds()}selectMixPassWay();resetPassWayTitle();showMNOption();calculateMixBetCount();calBonus()}function checkOdds(){$("td.poptd .oddsItems").each(function(){var a=$(this).attr("relate");if(a){if($(this).hasClass("checked")){$("#"+a).addClass("checked")}else{$("#"+a).removeClass("checked")}}})}function cancelOdds(a){$("#"+a+"div .oddsItems").each(function(){$(this).removeClass("checked");var b=$(this).attr("relate");if(b){$("#"+b).removeClass("checked")}})}function calculateMixBetCount(){var b=0;var c=0;$("div.mixPop table.mixTable").each(function(){if($(this).find(".checked").length){c++}});$("#allSelect .checked").each(function(){var j=new Array();var e=$(this).attr("title");var h=$(this).attr("mnm");var d;if(h&&c>Number(h)){$("div.mixPop table.mixTable").each(function(){if($(this).find(".checked").length){j.push($(this).attr("id"))}});d=cmn(j,Number(h))}else{$("div.mixPop").each(function(){if($(this).find(".checked").length){j.push($(this).attr("name")+"div")}})}for(var f=0;f<e.length;++f){var m=e.charAt(f);if(d){for(var n in d){var l=d[n];if(isDuplicate(l)){continue}var g=caculateMixDetail(l,m);b+=g}}else{var g=caculateMixDetail(j,m);b+=g}}});var a=Number($("#times").html());$("#consume").html(b*2*a)}function findMaxMin(){var a={};$("div.mixPop").each(function(){var d=new Array();$(this).find(".checked").each(function(){var j=$(this).parent().attr("title");var p=$(this).find("label").html();switch(Number(j)){case 1:var m=$(this).attr("title");var i="s";if(m=="3"){i="s"}if(m=="1"){i="p"}if(m=="0"){i="f"}d=loadOdds(d,"sfp",i,p);break;case 2:var h=$(this).parent().attr("let");if(h.indexOf("-")==-1){h="+"+h}var n=$(this).attr("title");if(n=="3"){h+=":s"}if(n=="1"){h+=":p"}if(n=="0"){h+=":f"}d=loadOdds(d,"rsfp",h,p);break;case 3:var l=$(this).attr("title");d=loadOdds(d,"totalball",l,p);break;case 4:var f="";var m=$(this).attr("title");if(m=="8"){f="qts"}if(m=="7"){f="qtp"}if(m=="6"){f="qtf"}if(m.indexOf("_")!=-1){var g=m.split("_");f=g[0]+":"+g[1]}d=loadOdds(d,"score",f,p);break;case 5:var m=$(this).attr("title");var o="ss";if(m=="33"){o="ss"}if(m=="31"){o="sp"}if(m=="30"){o="sf"}if(m=="13"){o="ps"}if(m=="11"){o="pp"}if(m=="10"){o="pf"}if(m=="03"){o="fs"}if(m=="01"){o="fp"}if(m=="00"){o="ff"}d=loadOdds(d,"half",o,p);break}});if("sfp" in d){if(d.sfp.length>0||d.rsfp.length>0||d.score.length>0||d.totalball.length>0||d.half.length>0){var b=filterOdds(d);var c=maxAndminOdds(b);var e=$(this).attr("name");a[e]=c}}});console.log("matchgroup: "+JSON.stringify(a));return a}function calcuMaxMin(){var e=findMaxMin();var g=[];for(k in e){g.push(k);for(var c=0;c<e[k]["max"].length;c++){var b=e[k]["max"][c];if(b[b.length-1]!="$"){b.push("$")}}for(var c=0;c<e[k]["min"].length;c++){var b=e[k]["min"][c];if(b[b.length-1]!="$"){b.push("$")}}}bonusDetail=new Array();var d=0;$("#allSelect .checked").each(function(){var z=$(this).attr("title");var s=$(this).attr("mnm");var D=[];if(s&&g.length>Number(s)){D=cmn(g,Number(s))}else{D.push(g)}var u=[];for(var y=0;y<z.length;y++){var m=z.charAt(y);if(!bonusDetail[m]){bonusDetail[m]=new Array()}for(var x=0;x<D.length;x++){var C=cmn(D[x],Number(m));u=u.concat(C)}}for(var y=0;y<u.length;y++){var m=u[y].length;var B=[];for(var x=0;x<u[y].length;x++){B.push(e[u[y][x]]["max"])}var o=combine(B);for(var r in o){var w={count:1,m:new Array(),o:{min:new Array(),max:new Array()},min:0,max:0};var l=1;w.m=u[y];var t=o[r].split("$");for(var v=0;v<t.length-1;v++){var q=t[v].split(",");var n=q[2];w.o.max.push(n);l*=n}l*=2;l=capBonus(t.length-1,l);w.max=l;d+=l;bonusDetail[m].push(w)}var A=[];for(var x=0;x<u[y].length;x++){A.push(e[u[y][x]]["min"])}var h=combine(A);for(var r in h){var w={count:1,m:new Array(),o:{min:new Array(),max:new Array()},min:0,max:0};var l=1;w.m=u[y];var t=h[r].split("$");for(var v=0;v<t.length-1;v++){var q=t[v].split(",");var n=q[2];w.o.min.push(n);l*=n}l*=2;l=capBonus(t.length-1,l);w.min=l;bonusDetail[m].push(w)}}});var a=Number($("#times").html());var f=d*a;if(f>0){f=f.toFixed(2)}$("#bonus").html(f);hideLoading()}function capBonus(a,b){if(a==1){return(b>100000)?100000:b}if(a==2||a==3){return(b>200000)?200000:b}if(a==4||a==5){return(b>500000)?500000:b}if(a==6){return(b>1000000)?1000000:b}return b}function isDuplicateMatch(d){var c=new Array();for(var b in d){var a=d[b].mid;if(c[a]){return true}c[a]=1}return false}function inBest(l,f,e,d){for(var c in d){var h=d[c];if(f==h.mid){var g=h.oddsArray[e];if(g){for(var b in g){var a=g[b];if(l.idx==a.idx){return true}}}}}return false}function isDuplicate(d){var c=new Array();for(var b in d){var a=d[b].substring(0,d[b].indexOf("_"));if(c[a]){return true}c[a]=1}return false}function caculateMixDetail(f,g){var j=f;if(f.length>g){j=cmn(f,g)}else{j=new Array();j.push(f)}var h=0;for(var i in j){var e=j[i];var a=1;for(var d in e){var c=j[i][d];var b=0;$("#"+c+" .oddsItems.checked").each(function(){b++});a*=b}h+=a}return h}function calculateMixBasketballBonus(C){var c;var I;var a=0;var D=Number.MAX_VALUE;var m=0;for(var w=5;w<=30;w+=5){var p=w-4;if(w>=26){w=26}var E=new Array();var j=0;for(var l in C){var t=Number(l);var g=C[l];for(var q in g){var n=g[q];var x=n.idx;switch(t){case 11:if("0"==x){pushOdds(E,t,n)}break;case 12:var f=m+Number(n.let);if("3"==x&&f>p){pushOdds(E,t,n)}else{if("0"==x&&f<p){pushOdds(E,t,n)}}break;case 13:var r=x.indexOf("_k");if(r>0){var F=x.substring(0,r);var B=F.indexOf("_");if(B>0){F=F.substring(B+1,F.length)}if(F==w){pushOdds(E,t,n)}}break}}}for(var r in E){var g=E[r];for(var b in g){var n=g[b];j+=Number(n.val)}}if(j>0&&D>j){D=j;I=E}if(j>0&&a<j){a=j;c=E}}a=0;D=Number.MAX_VALUE;var H;var G;var w=0;for(var m=5;m<=30;m+=5){var d=m-4;if(m>=26){m=26}var E=new Array();var j=0;for(var l in C){var t=Number(l);var g=C[l];for(var q in g){var n=g[q];var x=n.idx;switch(t){case 11:if("3"==x){pushOdds(E,t,n)}break;case 12:var f=m+Number(n.let);var L=d+Number(n.let);if("3"==x&&f>w){pushOdds(E,t,n)}else{if("0"==x&&L<w){pushOdds(E,t,n)}}break;case 13:var r=x.indexOf("_z");if(r>0){var F=x.substring(0,r);var B=F.indexOf("_");if(B>0){F=F.substring(B+1,F.length)}if(F==m){pushOdds(E,t,n)}}break}}}for(var r in E){var g=E[r];for(var b in g){var n=g[b];j+=Number(n.val)}}if(j>0&&D>j){D=j;G=E}if(j>0&&a<j){a=j;H=E}}var o={};if(c&&H){var j=0;for(var e in c){var s=c[e];for(var A in s){j+=Number(s[A].val)}}var h=0;for(var e in H){var s=H[e];for(var A in s){h+=Number(s[A].val)}}if(j>h){o.max=c}else{o.max=H}}else{if(c){o.max=c}else{if(H){o.max=H}}}if(I&&G){var j=0;for(var e in I){var s=I[e];for(var A in s){j+=Number(s[A].val)}}var h=0;for(var e in G){var s=G[e];for(var A in s){h+=Number(s[A].val)}}if(j<h){o.min=I}else{o.min=G}}else{if(I){o.min=I}else{if(G){o.min=G}}}var K;var u;for(var l in C){var t=Number(l);if(14==t){var g=C[l];var y=0;var v=Number.MAX_VALUE;for(var q in g){var n=g[q];var J=Number(n.val);if(y<J){K=n;y=J}if(v>J){u=n;v=J}}}}if(K){pushOdds(o.max,"14",K)}if(u){pushOdds(o.min,"14",u)}return o}function calBonus(){if(!isBasketBall){calcuMaxMin()}else{calculateMixBonus()}}function calculateMixBonus(){bonusDetail=new Array();var c=new Array();$("div.mixPop").each(function(){var i={};i.mid=$(this).attr("name");i.oddsArray=new Array();$(this).find(".checked").each(function(){var j={idx:$(this).attr("title"),val:$(this).find("label").html()};var z=$(this).parent();var m=z.attr("title");if("2"==m||"12"==m){j.let=z.attr("let")}pushOdds(i.oddsArray,m,j)});if(i.oddsArray.length>0){c.push(i)}});var u=new Array();var v=new Array();for(var I in c){var p=c[I];var A=p.oddsArray;var d;var M;if(!isBasketBall){var a=0;var J=Number.MAX_VALUE;for(var q=0;q<=7;++q){for(var D=0;D<=7;++D){var L=new Array();var l=0;for(var n in A){var B=Number(n);var h=A[n];for(var w in h){var s=h[w];var G=s.idx;switch(B){case 1:if("3"==G&&q>D){pushOdds(L,B,s)}else{if("1"==G&&q==D){pushOdds(L,B,s)}else{if("0"==G&&q<D){pushOdds(L,B,s)}}}break;case 2:var e=q+Number(s.let);if("3"==G&&e>D){pushOdds(L,B,s)}else{if("1"==G&&e==D){pushOdds(L,B,s)}else{if("0"==G&&e<D){pushOdds(L,B,s)}}}break;case 3:var r=q+D;if(r<7&&G==r){pushOdds(L,B,s)}else{if(r>=7&&G=="7"){pushOdds(L,B,s)}}break;case 4:var H=q+"_"+D;if(G==H){pushOdds(L,B,s)}else{if(q>D&&"8"==G){pushOdds(L,B,s)}else{if(q==D&&"7"==G){pushOdds(L,B,s)}else{if(q<D&&"6"==G){pushOdds(L,B,s)}}}}break;case 5:if("33"==G&&q>D){pushOdds(L,B,s)}else{if("31"==G&&q==D&&q>0){pushOdds(L,B,s)}else{if("30"==G&&q<D&&q>0){pushOdds(L,B,s)}else{if("13"==G&&q>D){pushOdds(L,B,s)}else{if("11"==G&&q==D){pushOdds(L,B,s)}else{if("10"==G&&q<D){pushOdds(L,B,s)}else{if("03"==G&&q>D&&D>0){pushOdds(L,B,s)}else{if("01"==G&&q==D&&D>0){pushOdds(L,B,s)}else{if("00"==G&&q<D){pushOdds(L,B,s)}}}}}}}}}break}}}for(var y in L){var h=L[y];for(var b in h){var s=h[b];l+=Number(s.val)}}if(l>0&&J>l){J=l;M=L}if(l>0&&a<l){a=l;d=L}}}}else{var t=calculateMixBasketballBonus(A);if(t.max){d=t.max}if(t.min){M=t.min}}if(d){var g={};g.mid=p.mid;g.oddsArray=d;u.push(g)}if(M){var g={};g.mid=p.mid;g.oddsArray=M;v.push(g)}}var o=new Array();for(var I in c){var C=c[I];for(var F in C.oddsArray){var x={};x.mid=C.mid;var A=C.oddsArray[F];x.oddsArray=new Array();for(var D in A){var s=A[D];pushOdds(x.oddsArray,F,s)}o.push(x)}}var E=0;$("#allSelect .checked").each(function(){var P=new Array();var m=$(this).attr("title");var N=$(this).attr("mnm");var j;if(N&&o.length>Number(N)){j=cmn(o,Number(N))}for(var z=0;z<m.length;++z){var R=m.charAt(z);if(j){for(var S in j){var Q=j[S];if(isDuplicateMatch(Q,u)){continue}var O=caculateMixBonusDetail(Q,R,u);E+=O}}else{var O=caculateMixBonusDetail(u,R,null);E+=O}}});var K=Number($("#times").html());var f=E*2*K;if(f>0){f=f.toFixed(2)}$("#bonus").html(f);hideLoading()}function caculateMixBonusDetail(e,b,x){var c=e;if(e.length>b){c=cmn(e,b)}else{c=new Array();c.push(e)}if(!bonusDetail[b]){bonusDetail[b]=new Array()}var t=0;for(var l in c){var h=c[l];var o={count:1,m:new Array(),o:{min:new Array(),max:new Array()},min:0,max:0};var a=1;for(var d in h){var q=h[d];var f=0;var v="";for(var n in q.oddsArray){var g=q.oddsArray[n];for(var s in g){var i=g[s];if(x&&!inBest(i,q.mid,n,x)){continue}f+=Number(i.val);v+=i.val+"+";var u=q.mid+"_"+n;o.m.push(u)}}if(v.length>0){v=v.substring(0,v.length-1);if(v.indexOf("+")!=-1){v="("+v+")"}}a*=f;o.o.max.push(v)}o.max=a;var w=false;for(var r in bonusDetail[b]){var p=bonusDetail[b][r];if(equals(p.m,o.m)){p.count=p.count+1;w=true;break}}if(!w){bonusDetail[b].push(o)}t+=a}return t}function pushOdds(e,f,a){if(!e[f]){e[f]=new Array();e[f].push(a)}else{var d=false;for(var c in e[f]){var b=e[f][c];if(a.idx==b.idx){d=true;break}}if(!d){e[f].push(a)}}}function showMix2(g,c){var f="";var d="";var b="";var r="";var q="";var p="";var o="";var n="";var l="";var j="<div id='"+g.mid+"div' class='item_block mixMask' style='display:none;'><div name='"+g.mid+"' class='mixPop'>";j+="<div class='item_head'>";if(c==1){j+="<span>(客)<b>"+g.guest+"</b></span><strong>VS</strong>";j+="<span>(主)<b>"+g.home+"</b></span>"}else{j+="<span>(主)<b>"+g.home+"</b></span><strong>VS</strong>";j+="<span>(客)<b>"+g.guest+"</b></span>"}j+="</div>";j+="<div class='sfpShow data_block'>";var h="";for(var i in g.bet){if(g.bet[i].type==12){if(Number(g.bet[i].let)>0){h="+"+g.bet[i].let}else{h=g.bet[i].let}break}}for(var a in g.bet){var e=g.bet[a];if(e.type==1){f+="<table class='sfpTable mixTable' name='"+g.mid+"' id='"+g.mid+"_"+e.type+"' title='8'><tbody>";f+="<tr title="+e.type+">";f+="<td width='28px'>0</td>";f+="<td name='"+g.mid+"' id='"+g.mid+"spf3' relate='"+g.mid+"spf3v' class='oddsItems firsttd' title='3'>胜<label class='lm5'>"+e.odds.r3+"</label></td>";f+="<td name='"+g.mid+"' id='"+g.mid+"spf1' relate='"+g.mid+"spf1v' class='oddsItems' title='1'>平<label class='lm5'>"+e.odds.r1+"</label></td>";f+="<td name='"+g.mid+"' id='"+g.mid+"spf0' relate='"+g.mid+"spf0v' class='oddsItems thirdtd' title='0'>负<label class='lm5'>"+e.odds.r0+"</label></td>";f+="</tr></tbody></table>"}else{if(e.type==2){d+="<div class='clearf'></div><table class='sfpTable mixTable' name='"+g.mid+"' id='"+g.mid+"_"+e.type+"' title='8'><tbody>";d+="<tr title="+e.type+" let="+e.let+">";d+="<td width='28px'><span class='greenCl'>"+e.let+"</span></td>";d+="<td name='"+g.mid+"' id='"+g.mid+"rqspf3' relate='"+g.mid+"rqspf3v' class='oddsItems firsttd' title='3'>让胜<label class='lm5'>"+e.odds.r3+"</label></td>";d+="<td name='"+g.mid+"' id='"+g.mid+"rqspf1' relate='"+g.mid+"rqspf1v' class='oddsItems' title='1'>让平<label class='lm5'>"+e.odds.r1+"</label></td>";d+="<td name='"+g.mid+"' id='"+g.mid+"rqspf0' relate='"+g.mid+"rqspf0v' class='oddsItems thirdtd' title='0'>让负<label class='lm5'>"+e.odds.r0+"</label></td>";d+="</tr></tbody></table>"}else{if(e.type==3){b+="<table class='crsOdds tm5 mixTable' width='100%' name='"+g.mid+"' id='"+g.mid+"_"+e.type+"' title='6'><tbody>";b+="<tr title="+e.type+">";b+="<td width='28px' rowspan=2><span class='blueCl'>总进球</span></td>";b+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-l' title='0'><div>0球</div><label>"+e.odds.s0+"</label></td>";b+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='1'><div>1球</div><label>"+e.odds.s1+"</label></td>";b+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='2'><div>2球</div><label>"+e.odds.s2+"</label></td>";b+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='3'><div>3球</div><label>"+e.odds.s3+"</label></td>";b+="</tr>";b+="<tr title="+e.type+">";b+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-r' title='4'><div>4球</div><label>"+e.odds.s4+"</label></td>";b+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-l' title='5'><div>5球</div><label>"+e.odds.s5+"</label></td>";b+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='6'><div>6球</div><label>"+e.odds.s6+"</label></td>";b+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-r' title='7'><div>7+球</div><label>"+e.odds.s7+"</label></td>";b+="</tr>";b+="</tbody></table>"}else{if(e.type==4){r+="<table class='crsOdds tm5 mixTable' name='"+g.mid+"' id='"+g.mid+"_"+e.type+"' width='100%' cellspacing='0' cellpadding='0' title='4'><tbody>";r+="<tr title="+e.type+">";r+="<td  width='28px' rowspan=5><span class='orangeCl'>比分</span></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-l' title='1_0'><div>1:0</div><label>"+e.odds.s1_0+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='2_0'><div>2:0</div><label>"+e.odds.s2_0+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='2_1'><div>2:1</div><label>"+e.odds.s2_1+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='3_0'><div>3:0</div><label>"+e.odds.s3_0+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-r' title='3_1'><div>3:1</div><label>"+e.odds.s3_1+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-l' title='3_2'><div>3:2</div><label>"+e.odds.s3_2+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='4_0'><div>4:0</div><label>"+e.odds.s4_0+"</label></td>";r+="</tr>";r+="<tr title="+e.type+">";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='4_1'><div>4:1</div><label>"+e.odds.s4_1+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='4_2'><div>4:2</div><label>"+e.odds.s4_2+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-r' title='5_0'><div>5:0</div><label>"+e.odds.s5_0+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-l' title='5_1'><div>5:1</div><label>"+e.odds.s5_1+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='5_2'><div>5:2</div><label>"+e.odds.s5_2+"</label></td>";r+="<td colspan=2 name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-r' title='8'><div>胜其他</div><label>"+e.odds.s+"</label></td>";r+="</tr>";r+="<tr title="+e.type+">";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-l' title='0_0'><div>0:0</div><label>"+e.odds.s0_0+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='1_1'><div>1:1</div><label>"+e.odds.s1_1+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='2_2'><div>2:2</div><label>"+e.odds.s2_2+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='3_3'><div>3:3</div><label>"+e.odds.s3_3+"</label></td>";r+="<td colspan=3 name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-r' title='7'><div>平其他</div><label>"+e.odds.p+"</label></td>";r+="</tr>";r+="<tr title="+e.type+">";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-l' title='0_1'><div>0:1</div><label>"+e.odds.s0_1+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='0_2'><div>0:2</div><label>"+e.odds.s0_2+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='1_2'><div>1:2</div><label>"+e.odds.s1_2+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='0_3'><div>0:3</div><label>"+e.odds.s0_3+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-r' title='1_3'><div>1:3</div><label>"+e.odds.s1_3+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-l' title='2_3'><div>2:3</div><label>"+e.odds.s2_3+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='0_4'><div>0:4</div><label>"+e.odds.s0_4+"</label></td>";r+="</tr>";r+="<tr title="+e.type+">";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='1_4'><div>1:4</div><label>"+e.odds.s1_4+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='2_4'><div>2:4</div><label>"+e.odds.s2_4+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-r' title='0_5'><div>0:5</div><label>"+e.odds.s0_5+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-l' title='1_5'><div>1:5</div><label>"+e.odds.s1_5+"</label></td>";r+="<td name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep' title='2_5'><div>2:5</div><label>"+e.odds.s2_5+"</label></td>";r+="<td colspan=2 name='"+g.mid+"' class='oddsItem oddsItems oddsItemKeep radius3-r' title='6'><div>负其他</div><label>"+e.odds.f+"</label></td>";r+="</tr>";r+="</tbody></table>"}else{if(e.type==5){q+="<table class='crsOdds tm5 mixTable'  name='"+g.mid+"' id='"+g.mid+"_"+e.type+"' width='100%' title='4'><tbody>";q+="<tr title="+e.type+">";q+="<td width='28px' rowspan=3 ><span class='grapeCl'>半全场</span></td>";q+="<td name='"+g.mid+"' class='oddsItems' title='33'><div>胜胜</div><label>"+e.odds.r33+"</label></td>";q+="<td name='"+g.mid+"' class='oddsItems' title='31'><div>胜平</div><label>"+e.odds.r31+"</label></td>";q+="<td name='"+g.mid+"' class='oddsItems' title='30'><div>胜负</div><label>"+e.odds.r30+"</label></td>";q+="<td name='"+g.mid+"' class='oddsItems' title='13'><div>平胜</div><label>"+e.odds.r13+"</label></td>";q+="<td name='"+g.mid+"' class='oddsItems' title='11'><div>平平</div><label>"+e.odds.r11+"</label></td>";q+="</tr>";q+="<tr title="+e.type+">";q+="<td name='"+g.mid+"' class='oddsItems' title='10'><div>平负</div><label>"+e.odds.r10+"</label></td>";q+="<td name='"+g.mid+"' class='oddsItems' title='03'><div>负胜</div><label>"+e.odds.r03+"</label></td>";q+="<td name='"+g.mid+"' class='oddsItems' title='01'><div>负平</div><label>"+e.odds.r01+"</label></td>";q+="<td name='"+g.mid+"' class='oddsItems' title='00'><div>负负</div><label>"+e.odds.r00+"</label></td>";q+="</tr>";q+="</tbody></table>"}else{if(e.type==11){p+="<div class='clearf'></div><table class='basketSf tm-1  mixTable' name='"+g.mid+"' id='"+g.mid+"_"+e.type+"' title='8'><tbody>";p+="<tr title="+e.type+"><td colspan='3' class='hhs_title'>主队让分<span>"+h+"</span></td></tr>";p+="<tr title="+e.type+">";p+="<td width='25px'><span class='greenCl'>非让分</span></td>";p+="<td name='"+g.mid+"' id='"+g.mid+"sf0' relate='"+g.mid+"sf0v' class='oddsItems firsttd' title='0'>客胜<label class='lm5'>"+e.odds.r0+"</label></td>";p+="<td name='"+g.mid+"' id='"+g.mid+"sf3' relate='"+g.mid+"sf3v' class='oddsItems thirdtd' title='3'>主胜<label class='lm5'>"+e.odds.r3+"</label></td>";p+="</tr>";p+="</tbody></table>"}else{if(e.type==12){o+="<table class='basketSf  mixTable' name='"+g.mid+"' id='"+g.mid+"_"+e.type+"' title='8'><tbody>";o+="<tr title="+e.type+" let="+e.let+">";o+="<td width='25px'><span class='blueCl'>让分</span></td>";o+="<td name='"+g.mid+"' class='oddsItems firsttd' title='0'>客胜<label class='lm5'>"+e.odds.r0+"</label></td>";o+="<td name='"+g.mid+"' class='oddsItems thirdtd' title='3'>主胜<label class='lm5'>"+e.odds.r3+"</label></td>";o+="</tr>";o+="</tbody></table>"}else{if(e.type==13){n+="<table class='basketSf  mixTable' width='100%' name='"+g.mid+"' id='"+g.mid+"_"+e.type+"' title='4'><tbody>";n+="<tr title="+e.type+"><td colspan='6' class='hhs_title'>胜分差</td></tr>";n+="<tr title="+e.type+">";n+="<td width='25px' rowspan=2><span class='greenCl'>客胜</span></td>";n+="<td name='"+g.mid+"' class='oddsItems radius3-l' title='1_5_k'><div>1-5</div><label>"+e.odds.r1_5_k+"</label></td>";n+="<td name='"+g.mid+"' class='oddsItems' title='6_10_k'><div>6-10</div><label>"+e.odds.r6_10_k+"</label></td>";n+="<td name='"+g.mid+"' class='oddsItems radius3-r' title='11_15_k'><div>11-15</div><label>"+e.odds.r11_15_k+"</label></td>";n+="</tr>";n+="<tr title="+e.type+">";n+="<td name='"+g.mid+"' class='oddsItems radius3-l' title='16_20_k'><div>16-20</div><label>"+e.odds.r16_20_k+"</label></td>";n+="<td name='"+g.mid+"' class='oddsItems' title='21_25_k'><div>21-25</div><label>"+e.odds.r21_25_k+"</label></td>";n+="<td name='"+g.mid+"' class='oddsItems radius3-r' title='26_k'><div>26+</div><label>"+e.odds.r26_k+"</label></td>";n+="</tr>";n+="<tr title="+e.type+">";n+="<td width='25px' rowspan=2><span class='blueCl'>主胜</span></td>";n+="<td name='"+g.mid+"' class='oddsItems radius3-l' title='1_5_z'><div>1-5</div><label>"+e.odds.r1_5_z+"</label></td>";n+="<td name='"+g.mid+"' class='oddsItems' title='6_10_z'><div>6-10</div><label>"+e.odds.r6_10_z+"</label></td>";n+="<td name='"+g.mid+"' class='oddsItems radius3-r' title='11_15_z'><div>11-15</div><label>"+e.odds.r11_15_z+"</label></td>";n+="</tr>";n+="<tr title="+e.type+">";n+="<td name='"+g.mid+"' class='oddsItems radius3-l' title='16_20_z'><div>16-20</div><label>"+e.odds.r16_20_z+"</label></td>";n+="<td name='"+g.mid+"' class='oddsItems' title='21_25_z'><div>21-25</div><label>"+e.odds.r21_25_z+"</label></td>";n+="<td name='"+g.mid+"' class='oddsItems radius3-r' title='26_z'><div>26+</div><label>"+e.odds.r26_z+"</label></td>";n+="</tr></tbody></table>"}else{if(e.type=14){l+="<table class='basketSf  mixTable' name='"+g.mid+"' id='"+g.mid+"_"+e.type+"' title='8'><tbody>";l+="<tr class='rang_title green_title'></tr>";l+="<tr title="+e.type+"><td colspan='3' class='hhs_title'>预设总分<span>+"+e.pre+"</span></td></tr>";l+="<tr title="+e.type+">";l+="<td width='25px'><span class='greenCl'>大小分</span></td>";l+="<td name='"+g.mid+"' class='oddsItems radius3-l firsttd' title='big'>大分<label class='lm5'>"+e.odds.big+"</label></td>";l+="<td name='"+g.mid+"' class='oddsItems radius3-r' title='small'>小分<label class='lm5'>"+e.odds.small+"</label></td>";l+="</tr>";l+="</tbody></table>"}}}}}}}}}}j+=f+d+r+b+q+p+o+l+n;j+="</div><div class='clearf'></div>";j+="<div class='mixBtBtns'><span class='cancel' onclick=hideMixPop('"+g.mid+"','0') >取消</span><span class='sure' onclick=hideMixPop('"+g.mid+"','1') >确定</span><div class='clearf'></div></div>";j+="</div></div>";return j}function showHalfAll(f){if(f.s==200&&f.r){var c="<tbody>";for(var e in f.r){var g=f.r[e];c+="<tr class='thead' trIndex='tr"+e+"'><td colspan='5'><div class='data_block_header up'><span>"+g.date+"</span><span>"+g.week+"</span><span>"+g.size+"场比赛</span></div></td></tr>";c+="<tr><td><table lindex='tr"+e+"'>";for(var b in g.list){var a=g.list[b];var d=saveFilterItem(a.league,"L"+e+"_"+b);c+="<tr class='listTr' name='"+d+"'>";if(a.bet[0].sg){c+="<td colspan='5' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{c+="<td colspan='5'>"}c+="<div class='item_head'>";c+="<div class='item_head_right tz_block'>";c+="<span><img src='"+a.hlogo+"' /><br /><b>"+a.home+"</b>(主)</span>";c+="<div class='item_body_first'>";c+="<p>"+a.league+"</p>";c+="<p>"+a.alias+" "+a.stop+"截止</p>";c+="<p>VS</p>";if(a.follow){c+="<div id='"+a.mid+"halfall' class='collect' onclick='followMatch(0,"+a.mid+", this)'>取消关注</div>"}else{c+="<div id='"+a.mid+"halfall' class='nocollect' onclick='followMatch(0,"+a.mid+", this)'>关注</div>"}c+="</div>";c+="<span><img src='"+a.glogo+"' /><br /><b>"+a.guest+"</b>(客)</span>";c+="</div>";c+="<div class='clearf'></div>";c+="</div>";c+="<td></tr>";c+="<tr  name='"+d+"' class='crsOddsTr'><td colspan='5'class='td_padding ttgOdds'style='width:480px;'><table id="+a.mid+" class='crsOdds'dataindex='0_0'width='100%'><tbody><tr><td title="+a.bet[0].type+">";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='halfItem oddsItems radius3-l' title='33'><div>胜胜</div><label>"+a.bet[0].odds.r33+"</label></span>";c+="<span class='halfItem oddsItems' title='31'><div>胜平</div><label>"+a.bet[0].odds.r31+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='30'><div>胜负</div><label>"+a.bet[0].odds.r30+"</label></span>";c+="<span class='halfItem oddsItems radius3-l' title='13'><div>平胜</div><label>"+a.bet[0].odds.r13+"</label></span>";c+="<span class='halfItem oddsItems' title='11'><div>平平</div><label>"+a.bet[0].odds.r11+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='10'><div>平负</div><label>"+a.bet[0].odds.r10+"</label></span>";c+="<span class='halfItem oddsItems radius3-l' title='03'><div>负胜</div><label>"+a.bet[0].odds.r03+"</label></span>";c+="<span class='halfItem oddsItems' title='01'><div>负平</div><label>"+a.bet[0].odds.r01+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='00'><div>负负</div><label>"+a.bet[0].odds.r00+"</label></span>";c+="</td></tr></tbody></table></td></tr>"}c+="</table></td></tr>"}$("#halfSelectShow").append(c+"</tbody>")}else{$("#halfSelectShow").html(getResult(f))}}function showTotalGoal(f){if(f.s==200&&f.r){var c="<tbody>";for(var e in f.r){var g=f.r[e];c+="<tr class='thead' trIndex='tr"+e+"'><td colspan='5'><div class='data_block_header up'><span>"+g.date+"</span><span>"+g.week+"</span><span>"+g.size+"场比赛</span></div></td></tr>";c+="<tr><td><table lindex='tr"+e+"'>";for(var b in g.list){var a=g.list[b];var d=saveFilterItem(a.league,"L"+e+"_"+b);c+="<tr class='listTr' name='"+d+"'>";if(a.bet[0].sg){c+="<td colspan='5' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{c+="<td colspan='5'>"}c+="<div class='item_head'>";c+="<div class='item_head_right tz_block'>";c+="<span><img src='"+a.hlogo+"' /><br /><b>"+a.home+"</b>(主)</span>";c+="<div class='item_body_first'>";c+="<p>"+a.league+"</p>";c+="<p>"+a.alias+" "+a.stop+"截止</p>";c+="<p>VS</p>";if(a.follow){c+="<div id='"+a.mid+"TotalGoal' class='collect' onclick='followMatch(0,"+a.mid+", this)'>取消关注</div>"}else{c+="<div id='"+a.mid+"TotalGoal' class='nocollect' onclick='followMatch(0,"+a.mid+", this)'>关注</div>"}c+="</div>";c+="<span><img src='"+a.glogo+"' /><br /><b>"+a.guest+"</b>(客)</span>";c+="</div>";c+="<div class='clearf'></div>";c+="</div>";c+="<td></tr>";c+="<tr class='crsOddsTr'  name='"+d+"' style='display: table-row;'><td colspan='5' class='td_padding ttgOdds'><table id="+a.mid+" class='crsOdds' dataindex='0_0' width='100%'><tbody><tr><td title="+a.bet[0].type+">";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='0'><div>0</div><label>"+a.bet[0].odds.s0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='1'><div>1</div><label>"+a.bet[0].odds.s1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2'><div>2</div><label>"+a.bet[0].odds.s2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='3'><div>3</div><label>"+a.bet[0].odds.s3+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='4'><div>4</div><label>"+a.bet[0].odds.s4+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='5'><div>5</div><label>"+a.bet[0].odds.s5+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='6'><div>6</div><label>"+a.bet[0].odds.s6+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='7'><div>7+</div><label>"+a.bet[0].odds.s7+"</label></span>";c+="</td></tr></tbody></table></td></tr>"}c+="</table></td></tr>"}$("#totalballSelectShow").append(c+"</tbody>")}else{$("#totalballSelectShow").html(getResult(f))}}function showScore(f){if(f.s==200&&f.r){var c="<tbody>";for(var e in f.r){var g=f.r[e];c+="<tr class='thead' trIndex='tr"+e+"'><td colspan='5'><div class='data_block_header up'><span>"+g.date+"</span><span>"+g.week+"</span><span>"+g.size+"场比赛</span></div></td></tr>";c+="<tr><td><table lindex='tr"+e+"'>";for(var b in g.list){var a=g.list[b];var d=saveFilterItem(a.league,"L"+e+"_"+b);c+="<tr class='listTr' name='"+d+"'>";if(a.bet[0].sg){c+="<td colspan='5' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{c+="<td colspan='5'>"}c+="<div class='item_head'>";c+="<div class='item_head_right tz_block'>";c+="<span><img src='"+a.hlogo+"' /><br /><b>"+a.home+"</b>(主)</span>";c+="<div class='item_body_first'>";c+="<p>"+a.league+"</p>";c+="<p>"+a.alias+" "+a.stop+"截止</p>";c+="<p>VS</p>";if(a.follow){c+="<div id='"+a.mid+"score' class='collect' onclick='followMatch(0,"+a.mid+", this)'>取消关注</div>"}else{c+="<div id='"+a.mid+"score' class='nocollect' onclick='followMatch(0,"+a.mid+", this)'>关注</div>"}c+="</div>";c+="<span><img src='"+a.glogo+"' /><br /><b>"+a.guest+"</b>(客)</span>";c+="</div>";c+="<div class='clearf'></div>";c+="</div>";c+="<td></tr>";c+="<tr class='crsOddsTr' name='"+d+"' style='display: table-row;'><td colspan='5' class='td_padding'><table id="+a.mid+" class='crsOdds' dataindex='0_0' width='100%' cellspacing='0' cellpadding='0'><tr><td title="+a.bet[0].type+" style='text-align:left;'>";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='1_0'><div>1:0</div><label>"+a.bet[0].odds.s1_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2_0'><div>2:0</div><label>"+a.bet[0].odds.s2_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2_1'><div>2:1</div><label>"+a.bet[0].odds.s2_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='3_0'><div>3:0</div><label>"+a.bet[0].odds.s3_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='3_1'><div>3:1</div><label>"+a.bet[0].odds.s3_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='3_2'><div>3:2</div><label>"+a.bet[0].odds.s3_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='4_0'><div>4:0</div><label>"+a.bet[0].odds.s4_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='4_1'><div>4:1</div><label>"+a.bet[0].odds.s4_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='4_2'><div>4:2</div><label>"+a.bet[0].odds.s4_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='5_0'><div>5:0</div><label>"+a.bet[0].odds.s5_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='5_1'><div>5:1</div><label>"+a.bet[0].odds.s5_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='5_2'><div>5:2</div><label>"+a.bet[0].odds.s5_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='8'><div>胜其他</div><label>"+a.bet[0].odds.s+"</label></span>";c+="</td></tr><tr><td title="+a.bet[0].type+" style='text-align:left;'>";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='0_0'><div>0:0</div><label>"+a.bet[0].odds.s0_0+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='1_1'><div>1:1</div><label>"+a.bet[0].odds.s1_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2_2'><div>2:2</div><label>"+a.bet[0].odds.s2_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='3_3'><div>3:3</div><label>"+a.bet[0].odds.s3_3+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='7'><div>平其他</div><label>"+a.bet[0].odds.p+"</label></span>";c+="</td></tr><tr><td  title="+a.bet[0].type+" style='text-align:left;'>";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='0_1'><div>0:1</div><label>"+a.bet[0].odds.s0_1+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='0_2'><div>0:2</div><label>"+a.bet[0].odds.s0_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='1_2'><div>1:2</div><label>"+a.bet[0].odds.s1_2+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='0_3'><div>0:3</div><label>"+a.bet[0].odds.s0_3+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='1_3'><div>1:3</div><label>"+a.bet[0].odds.s1_3+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='2_3'><div>2:3</div><label>"+a.bet[0].odds.s2_3+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='0_4'><div>0:4</div><label>"+a.bet[0].odds.s0_4+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='1_4'><div>1:4</div><label>"+a.bet[0].odds.s1_4+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2_4'><div>2:4</div><label>"+a.bet[0].odds.s2_4+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='0_5'><div>0:5</div><label>"+a.bet[0].odds.s0_5+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-l' title='1_5'><div>1:5</div><label>"+a.bet[0].odds.s1_5+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep' title='2_5'><div>2:5</div><label>"+a.bet[0].odds.s2_5+"</label></span>";c+="<span class='oddsItem oddsItems oddsItemKeep radius3-r' title='6'><div>负其他</div><label>"+a.bet[0].odds.f+"</label></span>";c+="</td></tr></table>"}c+="</table></td></tr>"}c+="</tbody>";$("#scoreSelectShow").html(c)}else{$("#scoreSelectShow").html(getResult(f))}}function showSFP(d){if(d.s==200&&d.r){var f="";for(var i in d.r){var h=d.r[i];f+="<div><div class='data_block_header up'><span>"+h.date+"</span><span>"+h.week+"</span><span><span id='outer"+i+"'>"+h.size+"</span>场比赛</span></div>";f+="<div name='outer' title='"+i+"'>";for(var g in h.list){var c=h.list[g];var e=saveFilterItem(c.league,"L"+i+"_"+g);if(c.bet[0].sg){f+="<div class='item_block' name='"+e+"' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{f+="<div class='item_block' name='"+e+"'>"}f+="<div class='item_head'>";f+="<div class='item_head_right tz_block'>";f+="<span>";if(c.hlogo){f+="<img src='"+c.hlogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.home+"</b>(主)";f+="</span>";f+="<div class='item_body_first'>";f+="<p>"+c.league+"</p>";f+="<p>"+c.alias+" "+c.stop+"截止</p>";f+="<p>VS</p>";if(c.follow){f+="<div id='"+c.mid+"sfp' class='collect' onclick='followMatch(0,"+c.mid+", this)'>取消关注</div>"}else{f+="<div id='"+c.mid+"sfp' class='nocollect' onclick='followMatch(0,"+c.mid+", this)'>关注</div>"}f+="</div>";f+="<span>";if(c.glogo){f+="<img src='"+c.glogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.guest+"</b>(客)</span>";f+="</span>";f+="</div>";f+="<div class='clearf'></div>";f+="</div>";f+="<div class='item_body'>";f+="<table class='sfpTable' id="+c.mid+"><tbody>";for(var a in c.bet){var b=c.bet[a];if(b.let==0){f+="<tr title="+b.type+">";f+="<td style='display:none' title="+b.all+">"+b.sg+"</td>";f+="<td class='oddsItems firsttd' title='3'>胜<br/><label>"+b.odds.r3+"</label></td>";f+="<td class='oddsItems' title='1'>平<br/><label>"+b.odds.r1+"</label></td>";f+="<td class='oddsItems thirdtd' title='0'>负<br/><label>"+b.odds.r0+"</label></td>"}else{if(b.let>0){f+="<tr class='rang_title red_title'><td colspan='4'>让球 "+b.let+"</td></tr>"}else{f+="<tr class='rang_title green_title'><td colspan='4'>让球 "+b.let+"</td></tr>"}f+="<tr title="+b.type+">";f+="<td style='display:none' title="+b.all+">"+b.sg+"</td>";f+="<td class='oddsItems firsttd' title='3'>让胜<br/><label>"+b.odds.r3+"</label></td>";f+="<td class='oddsItems' title='1'>让平<br/><label>"+b.odds.r1+"</label></td>";f+="<td class='oddsItems thirdtd' title='0'>让负<br/><label>"+b.odds.r0+"</label></td>"}f+="</tr>"}f+="</tbody></table>";f+="<div class='clearf'></div>";f+="</div>";f+="</div>"}f+="</div>";f+="</div></div>"}$("#sfpSelectShow").html(f)}else{$("#sfpSelectShow").html(getResult(d))}}function getResult(a){if(a.s==501){return"<div class='login_pop'>去<a href='"+a.r+"'>登录</a></div>"}else{return"<div class='login_pop'>"+a.r+"</div>"}}function followMatch(d,b,f){if(needLogin()){return}if((d!=0&&d!=1)||!b){return}var a=$(f);var c=a.hasClass("nocollect");var e=a.attr("id");showLoading();(function(g){$.ajax({type:"post",url:getPath()+"/web/bet/follow.do",data:"matchType="+d+"&matchNum="+b+"&collect="+c+"&stat="+getLoginStat(d),dataType:"json",contentType:"application/x-www-form-urlencoded; charset=utf-8",success:function(h){hideLoading();if(h.s==200){if(c){$("#"+g).removeClass("nocollect").addClass("collect").html("取消关注")}else{$("#"+g).removeClass("collect").addClass("nocollect").html("关注")}}else{$("#"+g).html(getResult(h))}},error:function(h,j,i){hideLoading();console.log(h.responseText);console.log(h.status);console.log(h.readyState);console.log(h.statusText);console.log(j);console.log(i)}})}(e))}function showSF(d){if(d.s==200&&d.r){var f="";for(var i in d.r){var h=d.r[i];f+="<div><div class='data_block_header up'><span>"+h.date+"</span><span>"+h.week+"</span><span><span id='outer"+i+"'>"+h.size+"</span>场比赛</span></div>";f+="<div name='outer' title='"+i+"'>";for(var g in h.list){var c=h.list[g];var e=saveFilterItem(c.league,"L"+i+"_"+g);if(c.bet[0].sg){f+="<div class='item_block' name='"+e+"' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{f+="<div class='item_block' name='"+e+"'>"}f+="<div class='item_head'>";f+="<div class='item_head_right tz_block'>";f+="<span>";if(c.glogo){f+="<img src='"+c.glogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.guest+"</b>(客)";f+="</span>";f+="<div class='item_body_first'>";f+="<p>"+c.league+"</p>";f+="<p>"+c.alias+" "+c.stop+"截止</p>";f+="<p>VS</p>";if(c.follow){f+="<div id='"+c.mid+"sf' class='collect' onclick='followMatch(1,"+c.mid+", this)'>取消关注</div>"}else{f+="<div id='"+c.mid+"sf' class='nocollect' onclick='followMatch(1,"+c.mid+", this)'>关注</div>"}f+="</div>";f+="<span>";if(c.hlogo){f+="<img src='"+c.hlogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.home+"</b>(主)</span>";f+="</span>";f+="</div>";f+="<div class='clearf'></div>";f+="</div>";f+="<div class='item_body'>";f+="<table class='basketSf' id="+c.mid+"><tbody>";for(var a in c.bet){var b=c.bet[a];f+="<tr title="+b.type+">";f+="<td style='display:none' title="+b.all+">"+b.sg+"</td>";f+="<td class='oddsItems firsttd' title='0'>主负<br/><label>"+b.odds.r0+"</label></td>";f+="<td class='oddsItems thirdtd' title='3'>主胜<br/><label>"+b.odds.r3+"</label></td>";f+="</tr>"}f+="</tbody></table>";f+="<div class='clearf'></div>";f+="</div>";f+="</div>"}f+="</div>";f+="</div></div>"}$("#sfSelectShow").html(f)}else{$("#sfSelectShow").html(getResult(d))}}function showRQSF(d){if(d.s==200&&d.r){var f="";for(var i in d.r){var h=d.r[i];f+="<div><div class='data_block_header up'><span>"+h.date+"</span><span>"+h.week+"</span><span><span id='outer"+i+"'>"+h.size+"</span>场比赛</span></div>";f+="<div name='outer' title='"+i+"'>";for(var g in h.list){var c=h.list[g];var e=saveFilterItem(c.league,"L"+i+"_"+g);if(c.bet[0].sg){f+="<div class='item_block' name='"+e+"' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{f+="<div class='item_block' name='"+e+"'>"}f+="<div class='item_head'>";f+="<div class='item_head_right tz_block'>";f+="<span>";if(c.glogo){f+="<img src='"+c.glogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.guest+"</b>(客)";f+="</span>";f+="<div class='item_body_first'>";f+="<p>"+c.league+"</p>";f+="<p>"+c.alias+" "+c.stop+"截止</p>";f+="<p>VS</p>";if(c.follow){f+="<div id='"+c.mid+"rqsf' class='collect' onclick='followMatch(1,"+c.mid+", this)'>取消关注</div>"}else{f+="<div id='"+c.mid+"rqsf' class='nocollect' onclick='followMatch(1,"+c.mid+", this)'>关注</div>"}f+="</div>";f+="<span>";if(c.hlogo){f+="<img src='"+c.hlogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.home+"</b>(主)</span>";f+="</span>";f+="</div>";f+="<div class='clearf'></div>";f+="</div>";f+="<div class='item_body'>";f+="<table class='basketSf' id="+c.mid+"><tbody>";for(var a in c.bet){var b=c.bet[a];if(b.let>0){f+="<tr class='rang_title red_title' title="+b.type+"><td colspan='3'>主让"+b.let+"</td></tr>"}else{if(b.let<=0){f+="<tr class='rang_title green_title' title="+b.type+"><td colspan='3'>主让"+b.let+"</td></tr>"}}f+="<tr title="+b.type+">";f+="<td style='display:none' title="+b.all+">"+b.sg+"</td>";f+="<td class='oddsItems firsttd' title='0'>主负<br><label>"+b.odds.r0+"</label></td>";f+="<td class='oddsItems thirdtd' title='3'>主胜<br><label>"+b.odds.r3+"</label></td>";f+="</tr>"}f+="</tbody></table>";f+="<div class='clearf'></div>";f+="</div>";f+="</div>"}f+="</div>";f+="</div></div>"}$("#rsfSelectShow").html(f)}else{$("#rsfSelectShow").html(getResult(d))}}function showSFC(f){if(f.s==200&&f.r){var c="<tbody>";for(var e in f.r){var g=f.r[e];c+="<tr class='thead' trIndex='tr"+e+"'><td colspan='5'><div class='data_block_header up'><span>"+g.date+"</span><span>"+g.week+"</span><span>"+g.size+"场比赛</span></div></td></tr>";c+="<tr><td><table lindex='tr"+e+"'>";for(var b in g.list){var a=g.list[b];var d=saveFilterItem(a.league,"L"+e+"_"+b);c+="<tr class='listTr' name='"+d+"'>";if(a.bet[0].sg){c+="<td colspan='5' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{c+="<td colspan='5'>"}c+="<div class='item_head'>";c+="<div class='item_head_right tz_block'>";c+="<span>";if(a.glogo){c+="<img src='"+a.glogo+"'><br />"}else{c+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}c+="<b>"+a.guest+"</b>(客)</span>";c+="<div class='item_body_first'>";c+="<p>"+a.league+"</p>";c+="<p>"+a.alias+" "+a.stop+"截止</p>";c+="<p>VS</p>";if(a.follow){c+="<div id='"+a.mid+"size' class='collect' onclick='followMatch(1,"+a.mid+", this)'>取消关注</div>"}else{c+="<div id='"+a.mid+"size' class='nocollect' onclick='followMatch(1,"+a.mid+", this)'>关注</div>"}c+="</div>";c+="<span>";if(a.hlogo){c+="<img src='"+a.hlogo+"'><br />"}else{c+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}c+="<br /><b>"+a.home+"</b>(主)</span>";c+="</div>";c+="<div class='clearf'></div>";c+="</div>";c+="<td></tr>";c+="<tr  name='"+d+"' class='crsOddsTr'><td colspan='5'class='td_padding ttgOdds'style='width:480px;'><table id="+a.mid+" class='crsOdds' width='100%'><tbody>";c+="<tr><td title="+a.bet[0].type+">";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='halfItem oddsItems radius3-l' title='1_5_k'><div>客胜1-5</div><label>"+a.bet[0].odds.r1_5_k+"</label></span>";c+="<span class='halfItem oddsItems' title='6_10_k'><div>客胜6-10</div><label>"+a.bet[0].odds.r6_10_k+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='11_15_k'><div>客胜11-15</div><label>"+a.bet[0].odds.r11_15_k+"</label></span>";c+="<span class='halfItem oddsItems radius3-l' title='16_20_k'><div>客胜16-20</div><label>"+a.bet[0].odds.r16_20_k+"</label></span>";c+="<span class='halfItem oddsItems' title='21_25_k'><div>客胜21-25</div><label>"+a.bet[0].odds.r21_25_k+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='26_k'><div>客胜26+</div><label>"+a.bet[0].odds.r26_k+"</label></span>";c+="</td></tr>";c+="<tr><td title="+a.bet[0].type+">";c+="<span style='display:none' title="+a.bet[0].all+">"+a.bet[0].sg+"</span>";c+="<span class='halfItem oddsItems radius3-l' title='1_5_z'><div>主胜1-5</div><label>"+a.bet[0].odds.r1_5_z+"</label></span>";c+="<span class='halfItem oddsItems' title='6_10_z'><div>主胜6-10</div><label>"+a.bet[0].odds.r6_10_z+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='11_15_z'><div>主胜11-15</div><label>"+a.bet[0].odds.r11_15_z+"</label></span>";c+="<span class='halfItem oddsItems radius3-l' title='16_20_z'><div>主胜16-20</div><label>"+a.bet[0].odds.r16_20_z+"</label></span>";c+="<span class='halfItem oddsItems' title='21_25_z'><div>主胜21-25</div><label>"+a.bet[0].odds.r21_25_z+"</label></span>";c+="<span class='halfItem oddsItems radius3-r' title='26_z'><div>主胜26+</div><label>"+a.bet[0].odds.r26_z+"</label></span>";c+="</td></tr>";c+="</tbody></table></td></tr>"}c+="</table></td></tr>"}$("#sfcSelectShow").append(c+"</tbody>")}else{$("#sfcSelectShow").html(getResult(f))}}function showSize(d){if(d.s==200&&d.r){var f="";for(var i in d.r){var h=d.r[i];f+="<div><div class='data_block_header up'><span>"+h.date+"</span><span>"+h.week+"</span><span><span id='outer"+i+"'>"+h.size+"</span>场比赛</span></div>";f+="<div name='outer' title='"+i+"'>";for(var g in h.list){var c=h.list[g];var e=saveFilterItem(c.league,"L"+i+"_"+g);if(c.bet[0].sg){f+="<div class='item_block' name='"+e+"' style='background-image:url(../images/single.png);background-repeat:no-repeat;background-position:11px top;background-size: 20px auto;'>"}else{f+="<div class='item_block' name='"+e+"'>"}f+="<div class='item_head'>";f+="<div class='item_head_right tz_block'>";f+="<span>";if(c.glogo){f+="<img src='"+c.glogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.guest+"</b>(客)";f+="</span>";f+="<div class='item_body_first'>";f+="<p>"+c.league+"</p>";f+="<p>"+c.alias+" "+c.stop+"截止</p>";f+="<p>VS</p>";if(c.follow){f+="<div id='"+c.mid+"size' class='collect' onclick='followMatch(1,"+c.mid+", this)'>取消关注</div>"}else{f+="<div id='"+c.mid+"size' class='nocollect' onclick='followMatch(1,"+c.mid+", this)'>关注</div>"}f+="</div>";f+="<span>";if(c.hlogo){f+="<img src='"+c.hlogo+"'><br />"}else{f+="<i style='padding-top:27px;display:inline-block;'> </i><br/>"}f+="<b>"+c.home+"</b>(主)</span>";f+="</span>";f+="</div>";f+="<div class='clearf'></div>";f+="</div>";f+="<div class='item_body'>";f+="<table class='basketSf' id="+c.mid+"><tbody>";for(var a in c.bet){var b=c.bet[a];f+="<tr class='rang_title red_title' title="+b.type+"><td colspan='3'>["+b.pre+"]</td></tr>";f+="<tr title="+b.type+">";f+="<td style='display:none' title="+b.all+">"+b.sg+"</td>";f+="<td class='oddsItems radius3-l' title='big'>大分<br><label>"+b.odds.big+"</label></td>";f+="<td class='oddsItems radius3-r' title='small'>小分<br><label>"+b.odds.small+"</label></td>";f+="</tr>"}f+="</tbody></table>";f+="<div class='clearf'></div>";f+="</div>";f+="</div>"}f+="</div>";f+="</div></div>"}$("#sizeSelectShow").html(f)}else{$("#sizeSelectShow").html(getResult(d))}}function keyboardPop(){$("#keyboard").show();hideBonus()}function clickKeyboardOK(){$("#keyboard").hide();hideBonus();calculate()}clickKeyboard=function(a){var b=$("#times").text();if($("#initTimes").val()=="true"){$("#initTimes").val("false");if(a==0){b=1}else{b=a}}else{if(b==""){b=1}if(b.length>=2){showTipsPop("投注倍数最高到99倍","2000");b=99}else{b=b+a}}$("#times").text(b);$("#multiple").text(b)};clickKeyboardDel=function(){var a=$("#times").text();if(a.length==1){a=1;$("#initTimes").val("true")}else{if(a.length==2){a=a.substr(0,1)}}$("#times").text(a);$("#multiple").text(a)};function bet(){if(needLogin()){return}var h=$("#bonus").html();if(Number(h)<=0){var e=getMaxMatchCount();if(e==0){showTipsPop("请至少选择一场比赛","2000")}else{if(e==1){showTipsPop("请至少选择两场比赛","2000")}else{if(e>=2){showTipsPop("请选择过关方式","2000")}}}return}var a=0;if($(".bskballTab").hasClass("current")){a=1}var l=Number($("#times").html());if(l<1){showTipsPop("倍数错误:"+$("#times").html(),"2500");return}var g=Number($("#consume").html());if(g<2){showTipsPop("注数错误:"+$("#consume").html(),"2500");return}g/=2;g/=l;var d=new Array();$("#allSelect .checked").each(function(){var m=$(this).attr("pass");if(m){d.push(m)}else{d.push($(this).attr("title"))}});if(d.length<=0){showTipsPop("过关方式错误:"+d,"2500");return}var j=d.join(",");var b=new Array();var i=true;if(isMix()){$("div.mixPop").each(function(){var m=new Array();$(this).find(".mixTable").each(function(){var n=new Array();$(this).find(".oddsItems.checked").each(function(o){if(o==0){n.push($(this).parent().attr("title"))}n.push($(this).attr("title"))});if(n.length>0){m.push(n.join(","))}});if(m.length>0){b.push($(this).attr("name")+":"+m.join("|"))}})}else{$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){if(d.length==1&&d[0]==1){var m=$(this).find(".checked");if(m.length>0){var n=m.siblings(":eq(0)");if(n.length>0){if("true"!=n.html()){showTipsPop("请取消非单关比赛","2500");i=false;return false}}}}var o=new Array();$(this).find(".oddsItems.checked").each(function(p){if(p==0){o.push($(this).parent().attr("title"))}o.push($(this).attr("title"))});if(o.length>0){b.push($(this).attr("id")+":"+o.join(","))}})}if(!i){return}if(b.length<1){showTipsPop("获取投注信息失败","2000");return}var f=b.join(";");var c=getLoginStat(a);showLoading();$.ajax({type:"post",url:getPath()+"/web/bet/go.do",data:{matchType:a,multiple:l,betNum:g,pass:j,betInfo:f,t:token,stat:c},dataType:"json",contentType:"application/x-www-form-urlencoded; charset=utf-8",success:function(m){hideLoading();if(m.s==200&&m.r){showTipsPop(m.r,"2000");setTimeout(function(){location.href=getPath()+"/htmlwx/myOdds.html"},2000)}else{var n;if(m.s==501){n="<div class='login_pop'>去<a href='"+m.r+"'>登录</a></div>";$("#"+$("a.tab_item.current").attr("id")+"Show").html(n);return}else{if(m.s==508){n+="请<input type=button value='刷新' onclick='location.reload()'>页面";$("#"+$("a.tab_item.current").attr("id")+"Show").html(n);return}else{n=m.r}}showTipsPop(n,"2000")}},error:function(m,o,n){hideLoading();console.log(m.responseText);console.log(m.status);console.log(m.readyState);console.log(m.statusText);console.log(o);console.log(n)}})}function saveFilterItem(b,c){var a=filterArray[b];if(!a){filterArray[b]=c;return c}else{return a}}function initFilter(){var b="";for(var a in filterArray){b+="<a href='#' name='"+filterArray[a]+"' onclick='toggleFilterItem(this)' class='current'>"+a+"</a>"}if(b){$("#fitlerItemDiv").html(b);filterArray=new Array()}else{$("#fitlerItemDiv").html("")}}function filterItem(){$("#filter").data("mmenu").close();$("#fitlerItemDiv a").each(function(){var b=$(this).attr("name");var a=$(this).hasClass("current");$("div[name='"+b+"']").each(function(){if(a){$(this).show()}else{$(this).hide()}});$("tr[name='"+b+"']").each(function(){if(a){$(this).show()}else{$(this).hide()}})});$("div[name='outer']").each(function(){var a=0;$(this).children(".item_block").each(function(){if($(this).css("display")=="block"){a++}});$("#outer"+$(this).attr("title")).html(a)});clearAll()}function toggleFilterItem(a){$(a).toggleClass("current")}function selectFilterItem(){$("#fitlerItemDiv a").addClass("current")}function unSelectFilterItem(){$("#fitlerItemDiv a").removeClass("current")}function showTipsPop(a,b){$("body").append("<div class='tips_pop'></div>");$(".tips_pop").show().html(a);setTimeout(function(){$(".tips_pop").remove()},b)}function showLoading(){$("body").append("<div class='loading_wrap'><span class='loading_ico'></span></div>")}function hideLoading(){$(".loading_wrap").remove()}function showDetail(){var A=isMix();$("#bonusDiv").toggle();if($("#bonusDiv").is(":visible")){setScroll(false);$(".bet_mask").show();$("#allSelect").hide();$("#bonusDetail").hide();var B=Number($("#times").html());var c=new Array();if(A){$("div.mixPop").each(function(){if($(this).find(".checked").length){c.push($(this).attr("name"))}})}else{$("table.sfpTable,table.basketSf,table.crsOdds").each(function(){if($(this).find(".oddsItems.checked").length){c.push($(this).attr("id"))}})}var s="";for(var x=c.length;x>0;--x){var y=cmn(c,x);var q=Number.MAX_VALUE;var w=0;var o;var E;for(var t in y){var v=0;var z=0;var h=new Array();for(var e=x;e>0;--e){if(!bonusDetail[e]){continue}h[e]=new Array();var d=0;var g=0;var r=0;var C=cmn(y[t],e);var a=bonusDetail[e];for(var D in C){var j=C[D];for(var b in a){var m=a[b];var u=m.m;if(A){u=new Array();var n=new Array();for(var f in m.m){var l=m.m[f];var p=l.indexOf("_");if(p>0){l=l.substring(0,p)}if(n[l]){continue}n[l]=1;u.push(l)}}if(equals(j,u)){if(A){d+=m.min/2*m.count;g+=m.max/2*m.count;r=1}else{d+=m.min;g+=m.max;r=m.count}h[e].push(b)}}}v+=d*r;z+=g*r}if(v>0&&q>v){q=v;o=h}if(w<z){w=z;E=h}}if(w==0||q==0){continue}q*=B*2;q=q.toFixed(2);w*=B*2;w=w.toFixed(2);s+="<tr>";s+="<td>";s+=x;s+="</td>";s+="<td class='red'>";s+="<a href='javascript:void(0)' onclick=showOddDetail("+JSON.stringify(o)+",'min')>";s+=q;s+="</a>";s+="</td>";s+="<td>";s+="~";s+="</td>";s+="<td class='red'>";console.log("max: "+JSON.stringify(E));s+="<a href='javascript:void(0)' onclick=showOddDetail("+JSON.stringify(E)+",'max')>";s+=w;s+="</a>";s+="</td>";s+="</tr>"}$("#bonusTable").html(s)}else{$("#bonusDetail").hide();$(".bet_mask").hide();setScroll(true)}hideLoading()}function showOddDetail(a,b){var d="";var f=-1;for(var c in a){if(!a[c]){continue}if(-1==f){f=c}var e="";if(c==1){e="单关"}else{e=c+"串1"}d+="<div class='showModeEvery' id='oddsDetail"+c+"' onclick='clickOdds("+c+","+JSON.stringify(a[c])+',"'+b+"\")'><span class='showModeText'>"+e+"</span></div>"}$("#passDiv").html(d);$("#oddsDetail"+f).click();$("#bonusDetail").show();$(".bet_mask").show()}function clickOdds(i,idxArray,name){var odds=$("#oddsDetail"+i);if(odds.hasClass("checked")){return}else{if(!odds.hasClass("checked")){odds.addClass("checked").siblings().removeClass("checked");var item=bonusDetail[i];if(i==1){$("#passSpan").html("单关")}else{$("#passSpan").html(i+"串1")}var oneBetCount=0;var multiple=Number($("#times").html());var detail="<div class='pass_list'>";var total=0;var linenum=0;for(var j in idxArray){var oneLine="";if(isMix()){if(name=="max"){if(item[idxArray[j]].max>0){oneLine="<div class='pass_item'>【"+(++linenum)+"】"}else{continue}}if(name=="min"){if(item[idxArray[j]].min>0){oneLine="<div class='pass_item'>【"+(++linenum)+"】"}else{continue}}}else{oneLine="<div class='pass_item'>【"+(Number(j)+1)+"】"}var oddsArray=item[idxArray[j]].o[name];var betCount=item[idxArray[j]].count;oneBetCount+=betCount;var oneLineValue=2;for(var k in oddsArray){if(typeof(oddsArray[k])!="number"&&oddsArray[k].indexOf("+")>0){oneLineValue*=eval(oddsArray[k])}else{oneLineValue*=oddsArray[k]}oneLine+=oddsArray[k];oneLine+="*"}oneLineValue=capBonus(oddsArray.length,oneLineValue);oneLine+=betCount;oneLine+="注*";oneLine+=multiple;oneLine+="倍";oneLine+="*2元";oneLine+="=";oneLineValue*=multiple*betCount;oneLine+=oneLineValue.toFixed(2);oneLine+="元";oneLine+="</div>";detail+=oneLine;total+=oneLineValue}$("#countSpan").html(oneBetCount*multiple);$("#bonusSpan").html(total.toFixed(2));$("#detailDiv").html(detail)}}}function hideById(a){$("#"+a).hide();if(a=="bonusDiv"){$(".bet_mask").hide();setScroll(true)}}function hidePop(){$(".bet_mask").hide();$("#allSelect").hide();$("#bonusDiv").hide();$("#bonusDetail").hide();setScroll(true)}function hideBonus(){$(".bet_mask").hide();$("#bonusDiv").hide();$("#bonusDetail").hide();setScroll(true)}function setScroll(a){if(a){$("body").css({overflow:"auto"});$("html").css({overflow:"auto"})}else{$("html").css({height:"100%",overflow:"hidden"});$("body").css({height:"100%",overflow:"hidden"})}};